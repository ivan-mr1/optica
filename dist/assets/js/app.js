var K=Object.defineProperty;var S=o=>{throw TypeError(o)};var Q=(o,t,e)=>t in o?K(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var n=(o,t,e)=>Q(o,typeof t!="symbol"?t+"":t,e),j=(o,t,e)=>t.has(o)||S("Cannot "+e);var R=(o,t,e)=>t.has(o)?S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e);var m=(o,t,e)=>(j(o,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();if(typeof window<"u"){let o=function(){var t=document.body,e=document.getElementById("__svg__icons__dom__");e||(e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.style.position="absolute",e.style.width="0",e.style.height="0",e.id="__svg__icons__dom__",e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),e.innerHTML=`<symbol fill="none" viewBox="0 0 32 32" id="icon-colored-instagram"><rect width="28" height="28" x="2" y="2" fill="url(#icon-colored-instagram_a1a)" rx="6" /><rect width="28" height="28" x="2" y="2" fill="url(#icon-colored-instagram_b1a)" rx="6" /><rect width="28" height="28" x="2" y="2" fill="url(#icon-colored-instagram_c1a)" rx="6" /><path fill="#fff" d="M23 10.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" /><path fill="#fff" fill-rule="evenodd" d="M16 21a5 5 0 1 0 0-10 5 5 0 0 0 0 10m0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M6 15.6c0-3.36 0-5.04.654-6.324a6 6 0 0 1 2.622-2.622C10.56 6 12.24 6 15.6 6h.8c3.36 0 5.04 0 6.324.654a6 6 0 0 1 2.622 2.622C26 10.56 26 12.24 26 15.6v.8c0 3.36 0 5.04-.654 6.324a6 6 0 0 1-2.622 2.622C21.44 26 19.76 26 16.4 26h-.8c-3.36 0-5.04 0-6.324-.654a6 6 0 0 1-2.622-2.622C6 21.44 6 19.76 6 16.4zM15.6 8h.8c1.713 0 2.878.002 3.778.075.877.072 1.325.202 1.638.361a4 4 0 0 1 1.748 1.748c.16.313.29.761.36 1.638.074.9.076 2.065.076 3.778v.8c0 1.713-.002 2.878-.075 3.778-.072.877-.202 1.325-.361 1.638a4 4 0 0 1-1.748 1.748c-.313.16-.761.29-1.638.36-.9.074-2.065.076-3.778.076h-.8c-1.713 0-2.878-.002-3.778-.075-.877-.072-1.325-.202-1.638-.361a4 4 0 0 1-1.748-1.748c-.16-.313-.29-.761-.36-1.638C8.001 19.278 8 18.113 8 16.4v-.8c0-1.713.002-2.878.075-3.778.072-.877.202-1.325.361-1.638a4 4 0 0 1 1.748-1.748c.313-.16.761-.29 1.638-.36.9-.074 2.065-.076 3.778-.076" clip-rule="evenodd" /><defs><radialGradient id="icon-colored-instagram_a1a" cx="0" cy="0" r="1" gradientTransform="rotate(-55.376 27.916 .066)scale(25.5196)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#b13589" /><stop offset="79.3%" stop-color="#c62f94" /><stop offset="100%" stop-color="#8a3ac8" /></radialGradient><radialGradient id="icon-colored-instagram_b1a" cx="0" cy="0" r="1" gradientTransform="rotate(-65.136 29.766 6.89)scale(22.5942)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#e0e8b7" /><stop offset="44.5%" stop-color="#fb8a2e" /><stop offset="71.5%" stop-color="#e2425c" /><stop offset="100%" stop-color="#e2425c" stop-opacity="0" /></radialGradient><radialGradient id="icon-colored-instagram_c1a" cx="0" cy="0" r="1" gradientTransform="matrix(38.50003 -5.5 1.1764 8.23476 .5 3)" gradientUnits="userSpaceOnUse"><stop offset="15.7%" stop-color="#406adc" /><stop offset="46.8%" stop-color="#6a45be" /><stop offset="100%" stop-color="#6a45be" stop-opacity="0" /></radialGradient></defs></symbol><symbol viewBox="0 0 512 512" id="icon-colored-telegram"><rect width="512" height="512" rx="15%" fill="#37aee2" /><path fill="#c8daea" d="M199 404c-11 0-10-4-13-14l-32-105 245-144" /><path fill="#a9c9dd" d="M199 404c7 0 11-4 16-8l45-43-56-34" /><path fill="#f6fbfe" d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4" /></symbol><symbol viewBox="0 0 448 512" id="icon-colored-whatsapp"><path fill="#25D366" d="M448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48z" /><path fill="#FFF" d="M224 122.1c-67.9 0-123.1 55.2-123.1 123.1 0 22.6 6.1 44.6 17.7 64l-18.8 68.7 70.3-18.4c19.1 10.4 40.6 15.9 62.6 15.9 67.9 0 123.1-55.2 123.1-123.1 0-67.9-55.2-123.2-123.1-123.2zm60.3 173.4c-2.6 7.3-15.1 13.3-20.7 14.1-4.8.6-11.1 1.1-32.3-7.3-27-10.7-44.4-38.3-45.7-40.1-1.3-1.8-10.9-14.5-10.9-27.7s6.9-20.4 9.4-23c2.5-2.6 5.4-3.2 7.2-3.2 1.8 0 3.7 0 5.3.1 1.6.1 3.7-.6 5.8 4.5 2.1 5.1 7.3 17.7 7.9 19.1.6 1.3 1 2.9.1 4.7-1 1.8-1.5 2.9-2.9 4.7-1.4 1.8-2.9 4-4.2 5.3-1.4 1.4-3 3-1.3 6 1.7 3 7.6 12.5 16.2 20.2 11.1 9.9 20.5 13 23.5 14.5 3 1.5 4.7 1.3 6.5-.7 1.8-1.9 7.6-8.8 9.7-11.8 2-3 4-2.5 6.8-1.5 2.7 1 17.4 8.2 20.4 9.7 3 1.5 5 2.2 5.7 3.4.7 1.2.7 6.8-1.9 14.1z" /></symbol><symbol viewBox="0 0 35 29" id="icon-monochrome-cart"><path d="M26.1 19.9H7.9C5.3 19.9 3.7 18.1 3.3 16.3C3 15.2 0.7 7.1 0 4.9C-0.1 4.6 0.1 4.3 0.4 4.3H30V6.3H2.5C3.3 8.9 5 14.8 5.2 15.9C5.4 16.8 6.3 17.9 7.9 17.9H26.1V19.9Z" fill="#FFA501" /><path d="M24.6 24.8L23 23.7C23.2 23.4 23.4 23.1 23.5 22.7C24 21.2 27.5 8.8 29 3.5C29.5 1.4 31.3 0 33.5 0H34.7C34.8 0 35 0.2 35 0.3V1.6C35 1.8 34.8 2 34.7 2H33.5C32.3 2 31.2 2.8 30.9 4C29.4 9.3 25.9 21.8 25.4 23.4C25.2 23.9 24.9 24.4 24.6 24.8Z" fill="#FFA501" /><path d="M20.5 25H8.4V27H20.5V25Z" fill="#FFA501" /><path d="M6 29C4.3 29 3 27.6 3 26C3 24.3 4.4 23 6 23C7.7 23 9 24.4 9 26C9 27.6 7.7 29 6 29Z" fill="#FFA501" /><path d="M22.6 29C20.9 29 19.6 27.6 19.6 26C19.6 24.3 21 23 22.6 23C24.3 23 25.6 24.4 25.6 26C25.6 27.6 24.3 29 22.6 29Z" fill="#FFA501" /></symbol><symbol fill="none" viewBox="0 0 24 21" id="icon-monochrome-favorite-card"><path fill="#e89f71" fill-rule="evenodd" d="M12 18.023c-4.64-2.635-7.236-5.26-8.493-7.55C2.224 8.138 2.33 6.156 3.052 4.74c1.478-2.9 5.684-3.828 8.242-.593l.705.893.707-.893c2.558-3.235 6.764-2.307 8.242.593.721 1.415.827 3.398-.456 5.735-1.257 2.289-3.852 4.914-8.492 7.549zm0-15.778C8.52-1.144 3.337.215 1.448 3.922.42 5.939.4 8.555 1.93 11.34c1.517 2.763 4.548 5.69 9.634 8.502l.436.24.435-.24c5.086-2.811 8.118-5.74 9.635-8.502 1.53-2.785 1.51-5.4.482-7.418C20.662.215 15.48-1.144 12 2.245" clip-rule="evenodd" /></symbol><symbol viewBox="0 0 32 29" id="icon-monochrome-favorite"><path fill="#ffa501" d="M16 29c-.5 0-1-.2-1.4-.5C11.2 25.5 0 15.2 0 8.9 0 4 3.9 0 8.6 0c3.1 0 5.9 1.7 7.4 4.3C17.5 1.7 20.3 0 23.4 0 28.1 0 32 4 32 8.9c0 6.3-11.2 16.6-14.6 19.6-.4.3-.9.5-1.4.5M8.6 2C5 2 2 5.1 2 8.9 2 13.3 9.5 21.4 15.9 27h.1c6.5-5.6 14-13.7 14-18.1C30 5.1 27 2 23.4 2c-2.7 0-5.1 1.7-6.1 4.3-.2.3-.5.7-1.3.7-.7 0-1.1-.2-1.3-.7-1-2.6-3.4-4.3-6.1-4.3" /></symbol><symbol fill="none" viewBox="0 0 16 16" id="icon-monochrome-phone"><path d="M11.43 11.067l-.515.773c-.103.154-.239.286-.418.334-.588.155-2.147.225-4.521-2.15C3.6 7.65 3.67 6.09 3.826 5.503c.048-.18.18-.315.334-.418l.773-.516a1.253 1.253 0 00.348-1.737L3.82.642A1.253 1.253 0 002.283.184l-.659.282c-.5.215-.908.6-1.152 1.086-.203.407-.36.836-.382 1.29-.068 1.432.246 4.96 4.176 8.89 3.93 3.93 7.458 4.243 8.89 4.176.454-.021.883-.179 1.29-.382a2.302 2.302 0 001.086-1.152l.282-.66c.238-.554.046-1.2-.456-1.535l-2.191-1.46a1.253 1.253 0 00-1.737.347z" fill="#898989" /></symbol><symbol viewBox="0 0 50 80" id="icon-monochrome-scroll-down"><path class="first-path" fill="#FFFFFF" d="M24.752,79.182c-0.397,0-0.752-0.154-1.06-0.463L2.207,57.234c-0.306-0.305-0.458-0.656-0.458-1.057
s0.152-0.752,0.458-1.059l2.305-2.305c0.309-0.309,0.663-0.461,1.06-0.461c0.398,0,0.752,0.152,1.061,0.461l18.119,18.119
l18.122-18.119c0.306-0.309,0.657-0.461,1.057-0.461c0.402,0,0.753,0.152,1.059,0.461l2.306,2.305
c0.308,0.307,0.461,0.658,0.461,1.059s-0.153,0.752-0.461,1.057L25.813,78.719C25.504,79.027,25.15,79.182,24.752,79.182z" /><path class="second-path" fill="#FFFFFF" d="M24.752,58.25c-0.397,0-0.752-0.154-1.06-0.463L2.207,36.303c-0.306-0.304-0.458-0.655-0.458-1.057
c0-0.4,0.152-0.752,0.458-1.058l2.305-2.305c0.309-0.308,0.663-0.461,1.06-0.461c0.398,0,0.752,0.153,1.061,0.461l18.119,18.12
l18.122-18.12c0.306-0.308,0.657-0.461,1.057-0.461c0.402,0,0.753,0.153,1.059,0.461l2.306,2.305
c0.308,0.306,0.461,0.657,0.461,1.058c0,0.401-0.153,0.753-0.461,1.057L25.813,57.787C25.504,58.096,25.15,58.25,24.752,58.25z" /></symbol><symbol fill="none" viewBox="0 0 20 20" id="icon-monochrome-trash"><path fill="#ffa501" d="M18.572 2.857h-5v-.714C13.572.959 12.612 0 11.429 0H8.572C7.388 0 6.429.96 6.429 2.143v.714h-5a.714.714 0 1 0 0 1.429h.776L3.572 19.35c.033.369.343.65.714.649h11.428c.37.002.681-.28.715-.65l1.366-15.064h.776a.714.714 0 1 0 0-1.429M7.857 2.143c0-.395.32-.714.715-.714h2.857c.394 0 .714.32.714.714v.714H7.857zm7.205 16.428H4.938L3.643 4.286H16.36z" /><path fill="#ffa501" d="M7.857 16.381v-.003l-.714-10a.716.716 0 0 0-1.429.101l.715 10a.714.714 0 0 0 .714.664h.051a.714.714 0 0 0 .663-.762M10 5.714a.714.714 0 0 0-.714.715v10a.714.714 0 1 0 1.428 0v-10A.714.714 0 0 0 10 5.714M13.622 5.714a.716.716 0 0 0-.765.664l-.714 10a.714.714 0 0 0 .66.764h.053c.376.002.688-.288.715-.663l.715-10a.716.716 0 0 0-.664-.765" /></symbol>`,t.insertBefore(e,t.lastChild)};var Et=o;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()}function Z(){const o=document.querySelector("header");document.addEventListener("click",t=>{const e=t.target.closest("[data-goto]");if(!e)return;const s=e.dataset.goto,i=document.querySelector(s);if(i){t.preventDefault();const a=o?o.offsetHeight:0,g=i.getBoundingClientRect().top+window.scrollY-a;window.scrollTo({top:g,behavior:"smooth"})}})}let I=!0;const N=o=>{I=!1,setTimeout(()=>{I=!0},o)},X=()=>document.querySelectorAll("[data-right-padding]"),J=()=>{const o=window.innerWidth-document.body.clientWidth,t=parseFloat(getComputedStyle(document.documentElement).fontSize);return o/t+"rem"},M=(o="")=>{X().forEach(e=>{e.style.paddingRight=o}),document.body.style.paddingRight=o},tt=o=>{document.documentElement.style.setProperty("--scrollbar-width",o)},et=()=>{document.documentElement.style.removeProperty("--scrollbar-width")},st=(o=500)=>{if(!I)return;const t=J();M(t),tt(t),document.documentElement.setAttribute("data-scroll-lock",""),N(o)},it=(o=500)=>{I&&(M(""),et(),document.documentElement.removeAttribute("data-scroll-lock"),N(o))};class ot{constructor(){n(this,"selectors",{root:"[data-header]",menu:"[data-header-menu]",burgerButton:"[data-header-burger-btn]",overlay:"[data-header-overlay]"});n(this,"stateClasses",{isActive:"is-active",isLock:"lock",isScrolled:"scroll",isHidden:"is-hidden"});n(this,"setHeightProperty",()=>{const t=this.rootElement.offsetHeight;document.documentElement.style.setProperty("--header-height",`${t}px`)});n(this,"handleScroll",()=>{const t=window.scrollY,e=this.rootElement.offsetHeight,s=t>this.lastScrollY,i=t>e;this.rootElement.classList.toggle(this.stateClasses.isScrolled,t>0);const a=!this.isMenuOpen&&i&&s;this.rootElement.classList.toggle(this.stateClasses.isHidden,a),this.lastScrollY=t});n(this,"toggleMenu",()=>{this.isMenuOpen?this.closeMenu():this.openMenu()});n(this,"openMenu",()=>{var t,e,s;this.isMenuOpen=!0,(t=this.burgerButtonElement)==null||t.classList.add(this.stateClasses.isActive),(e=this.menuElement)==null||e.classList.add(this.stateClasses.isActive),(s=this.burgerButtonElement)==null||s.setAttribute("aria-expanded","true"),st(),this.rootElement.classList.remove(this.stateClasses.isHidden),document.addEventListener("keydown",this.onEscapePress)});n(this,"closeMenu",()=>{var t,e,s;this.isMenuOpen=!1,(t=this.burgerButtonElement)==null||t.classList.remove(this.stateClasses.isActive),(e=this.menuElement)==null||e.classList.remove(this.stateClasses.isActive),(s=this.burgerButtonElement)==null||s.setAttribute("aria-expanded","false"),it(),document.removeEventListener("keydown",this.onEscapePress)});n(this,"onMenuLinkClick",t=>{t.target.closest("a")&&this.closeMenu()});n(this,"onEscapePress",t=>{t.key==="Escape"&&this.closeMenu()});n(this,"onOverlayClick",t=>{t.target===this.overlayElement&&this.closeMenu()});this.rootElement=document.querySelector(this.selectors.root),this.rootElement&&(this.menuElement=this.rootElement.querySelector(this.selectors.menu),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.isMenuOpen=!1,this.lastScrollY=window.scrollY,this.init())}init(){this.setHeightProperty(),this.handleScroll(),this.bindEvents(),this.resizeObserver=new ResizeObserver(()=>this.setHeightProperty()),this.resizeObserver.observe(this.rootElement)}bindEvents(){var t,e,s;(t=this.burgerButtonElement)==null||t.addEventListener("click",this.toggleMenu),(e=this.menuElement)==null||e.addEventListener("click",this.onMenuLinkClick),(s=this.overlayElement)==null||s.addEventListener("click",this.onOverlayClick),window.addEventListener("scroll",this.handleScroll,{passive:!0})}destroy(){var t,e,s,i;(t=this.burgerButtonElement)==null||t.removeEventListener("click",this.toggleMenu),(e=this.menuElement)==null||e.removeEventListener("click",this.onMenuLinkClick),(s=this.overlayElement)==null||s.removeEventListener("click",this.onOverlayClick),window.removeEventListener("scroll",this.handleScroll),document.removeEventListener("keydown",this.onEscapePress),(i=this.resizeObserver)==null||i.disconnect()}}class rt{constructor(t={}){n(this,"defaults",{parent:document.body,offset:300,maxWidth:2e3,scrollUpClass:"scroll-up",scrollUpPathClass:"scroll-up__path"});n(this,"toggleVisibility",()=>{const{offset:t,maxWidth:e,scrollUpClass:s}=this.settings,i=this.getScrollTop(),a=window.innerWidth;this.updateDashOffset(),i>t&&a<=e?this.button.classList.add(`${s}--active`):this.button.classList.remove(`${s}--active`)});n(this,"scrollToTop",()=>{window.scrollTo({top:0,behavior:"smooth"})});this.settings={...this.defaults,...t};const{parent:e}=this.settings;if(!(e instanceof Element)){console.error("ScrollUpButton = Invalid parent element");return}this.parent=e,this.button=null,this.path=null,this.pathLength=0,this.init()}init(){this.createButton(),this.cacheElements(),this.setInitialStyles(),this.bindEvents(),this.toggleVisibility()}createButton(){const{scrollUpClass:t,scrollUpPathClass:e,parent:s}=this.settings;this.button=document.createElement("button"),this.button.classList.add(t),this.button.setAttribute("aria-label","scroll to top"),this.button.setAttribute("title","scroll to top"),this.button.innerHTML=`
      <svg class="${t}__svg" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 52 52">
        <path class="${e}" d="M 24,0 a24,24 0 0,1 0,48 a24,24 0 0,1 0,-48" />
      </svg>
    `,s.appendChild(this.button)}cacheElements(){const{scrollUpPathClass:t}=this.settings;this.path=this.button.querySelector(`.${t}`),this.pathLength=this.path.getTotalLength()}setInitialStyles(){this.path.style.strokeDasharray=`${this.pathLength} ${this.pathLength}`,this.path.style.transition="stroke-dashoffset 0.3s ease"}getScrollTop(){return window.scrollY||document.documentElement.scrollTop}updateDashOffset(){const t=document.documentElement.scrollHeight-window.innerHeight,e=this.pathLength-this.getScrollTop()*this.pathLength/t;this.path.style.strokeDashoffset=e}bindEvents(){window.addEventListener("scroll",this.toggleVisibility),window.addEventListener("resize",this.toggleVisibility),this.button.addEventListener("click",this.scrollToTop)}destroy(){window.removeEventListener("scroll",this.toggleVisibility),window.removeEventListener("resize",this.toggleVisibility),this.button.removeEventListener("click",this.scrollToTop),this.button.remove()}}function at(){const o=document.querySelectorAll(".scroller");window.matchMedia("(prefer-reduce-motion: reduce)").matches||t();function t(){o.forEach(e=>{e.setAttribute("data-animated",!0);const s=e.querySelector(".scroller__inner");Array.from(s.children).forEach(a=>{const d=a.cloneNode(!0);d.setAttribute("aria-hidden",!0),s.appendChild(d)})})}}const L=JSON.parse('[{"category":"glasses for vision","id":1,"image":"./img/products/glasses-for-vision/1.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-1","price":1200},{"category":"glasses for vision","id":2,"image":"./img/products/glasses-for-vision/2.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-2","price":1200},{"category":"glasses for vision","id":3,"image":"./img/products/glasses-for-vision/3.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-3","price":1200},{"category":"glasses for vision","id":4,"image":"./img/products/glasses-for-vision/4.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-4","price":1200},{"category":"glasses for vision","id":5,"image":"./img/products/glasses-for-vision/5.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-5","price":1200},{"category":"glasses for vision","id":6,"image":"./img/products/glasses-for-vision/6.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-6","price":1200},{"category":"glasses for vision","id":7,"image":"./img/products/glasses-for-vision/7.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-7","price":1200},{"category":"glasses for vision","id":8,"image":"./img/products/glasses-for-vision/8.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-8","price":1200},{"category":"glasses for vision","id":9,"image":"./img/products/glasses-for-vision/9.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-9","price":1200},{"category":"glasses for vision","id":10,"image":"./img/products/glasses-for-vision/10.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-10","price":1200},{"category":"glasses for vision","id":11,"image":"./img/products/glasses-for-vision/11.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-11","price":1200},{"category":"glasses for vision","id":12,"image":"./img/products/glasses-for-vision/12.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-12","price":1200},{"category":"glasses for vision","id":13,"image":"./img/products/glasses-for-vision/13.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-13","price":1200},{"category":"glasses for vision","id":14,"image":"./img/products/glasses-for-vision/14.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-14","price":1200},{"category":"glasses for vision","id":15,"image":"./img/products/glasses-for-vision/15.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-15","price":1200},{"category":"glasses for vision","id":16,"image":"./img/products/glasses-for-vision/16.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-16","price":1200},{"category":"glasses for vision","id":17,"image":"./img/products/glasses-for-vision/17.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-17","price":1200},{"category":"glasses for vision","id":18,"image":"./img/products/glasses-for-vision/18.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-18","price":1200},{"category":"glasses for vision","id":19,"image":"./img/products/glasses-for-vision/19.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-19","price":1200},{"category":"glasses for vision","id":20,"image":"./img/products/glasses-for-vision/20.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-20","price":1200},{"category":"glasses for vision","id":21,"image":"./img/products/glasses-for-vision/21.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-21","price":1200},{"category":"glasses for vision","id":22,"image":"./img/products/glasses-for-vision/22.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-22","price":1200},{"category":"glasses for vision","id":23,"image":"./img/products/glasses-for-vision/23.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-23","price":1200},{"category":"glasses for vision","id":24,"image":"./img/products/glasses-for-vision/24.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-24","price":1200},{"category":"glasses for vision","id":25,"image":"./img/products/glasses-for-vision/25.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-25","price":1200},{"category":"glasses for vision","id":26,"image":"./img/products/glasses-for-vision/26.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-26","price":1200},{"category":"glasses for vision","id":27,"image":"./img/products/glasses-for-vision/27.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-27","price":1200},{"category":"glasses for vision","id":28,"image":"./img/products/glasses-for-vision/28.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-28","price":1200},{"category":"glasses for vision","id":29,"image":"./img/products/glasses-for-vision/29.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-29","price":1200},{"category":"glasses for vision","id":30,"image":"./img/products/glasses-for-vision/30.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-30","price":1200},{"category":"glasses for vision","id":31,"image":"./img/products/glasses-for-vision/31.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-31","price":1200},{"category":"glasses for vision","id":32,"image":"./img/products/glasses-for-vision/32.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-32","price":1200},{"category":"glasses for vision","id":33,"image":"./img/products/glasses-for-vision/33.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-33","price":1200},{"category":"glasses for vision","id":34,"image":"./img/products/glasses-for-vision/34.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-34","price":1200},{"category":"glasses for vision","id":35,"image":"./img/products/glasses-for-vision/35.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-35","price":1200},{"category":"glasses for vision","id":36,"image":"./img/products/glasses-for-vision/36.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-36","price":1200},{"category":"glasses for vision","id":37,"image":"./img/products/glasses-for-vision/37.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-37","price":1200},{"category":"glasses for vision","id":38,"image":"./img/products/glasses-for-vision/38.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-38","price":1200},{"category":"glasses for vision","id":39,"image":"./img/products/glasses-for-vision/39.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-39","price":1200},{"category":"glasses for vision","id":40,"image":"./img/products/glasses-for-vision/40.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-40","price":1200},{"category":"glasses for vision","id":41,"image":"./img/products/glasses-for-vision/41.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-41","price":1200},{"category":"glasses for vision","id":42,"image":"./img/products/glasses-for-vision/42.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-42","price":1200},{"category":"glasses for vision","id":43,"image":"./img/products/glasses-for-vision/43.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-43","price":1200},{"category":"glasses for vision","id":44,"image":"./img/products/glasses-for-vision/44.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-44","price":1200},{"category":"glasses for vision","id":45,"image":"./img/products/glasses-for-vision/45.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-45","price":1200},{"category":"glasses for vision","id":46,"image":"./img/products/glasses-for-vision/46.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-46","price":1200},{"category":"glasses for vision","id":47,"image":"./img/products/glasses-for-vision/47.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-47","price":1200},{"category":"glasses for vision","id":48,"image":"./img/products/glasses-for-vision/48.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-48","price":1200},{"category":"glasses for vision","id":49,"image":"./img/products/glasses-for-vision/49.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-49","price":1200},{"category":"glasses for vision","id":50,"image":"./img/products/glasses-for-vision/50.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-50","price":1200},{"category":"glasses for vision","id":51,"image":"./img/products/glasses-for-vision/51.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-51","price":1200},{"category":"glasses for vision","id":52,"image":"./img/products/glasses-for-vision/52.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-52","price":1200},{"category":"glasses for vision","id":53,"image":"./img/products/glasses-for-vision/53.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-53","price":1200},{"category":"glasses for vision","id":54,"image":"./img/products/glasses-for-vision/54.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-54","price":1200},{"category":"glasses for vision","id":55,"image":"./img/products/glasses-for-vision/55.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-55","price":1200},{"category":"glasses for vision","id":56,"image":"./img/products/glasses-for-vision/56.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-56","price":1200},{"category":"glasses for vision","id":57,"image":"./img/products/glasses-for-vision/57.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-57","price":1200},{"category":"glasses for vision","id":58,"image":"./img/products/glasses-for-vision/58.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-58","price":1200},{"category":"glasses for vision","id":59,"image":"./img/products/glasses-for-vision/59.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-59","price":1200},{"category":"glasses for vision","id":60,"image":"./img/products/glasses-for-vision/60.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-60","price":1200},{"category":"glasses for vision","id":61,"image":"./img/products/glasses-for-vision/61.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-61","price":1200},{"category":"glasses for vision","id":62,"image":"./img/products/glasses-for-vision/62.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-62","price":1200},{"category":"glasses for vision","id":63,"image":"./img/products/glasses-for-vision/63.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-63","price":1200},{"category":"glasses for vision","id":64,"image":"./img/products/glasses-for-vision/64.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-64","price":1200},{"category":"glasses for vision","id":65,"image":"./img/products/glasses-for-vision/65.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-65","price":1200},{"category":"glasses for vision","id":66,"image":"./img/products/glasses-for-vision/66.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-66","price":1200},{"category":"glasses for vision","id":67,"image":"./img/products/glasses-for-vision/67.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-67","price":1200},{"category":"glasses for vision","id":68,"image":"./img/products/glasses-for-vision/68.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-68","price":1200},{"category":"glasses for vision","id":69,"image":"./img/products/glasses-for-vision/69.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-69","price":1200},{"category":"glasses for vision","id":70,"image":"./img/products/glasses-for-vision/70.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-70","price":1200},{"category":"glasses for vision","id":71,"image":"./img/products/glasses-for-vision/71.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-71","price":1200},{"category":"glasses for vision","id":72,"image":"./img/products/glasses-for-vision/72.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-72","price":1200},{"category":"glasses for vision","id":73,"image":"./img/products/glasses-for-vision/73.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-73","price":1200},{"category":"glasses for vision","id":74,"image":"./img/products/glasses-for-vision/74.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-74","price":1200},{"category":"glasses for vision","id":75,"image":"./img/products/glasses-for-vision/75.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-75","price":1200},{"category":"glasses for vision","id":76,"image":"./img/products/glasses-for-vision/76.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-76","price":1200},{"category":"glasses for vision","id":77,"image":"./img/products/glasses-for-vision/77.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-77","price":1200},{"category":"glasses for vision","id":78,"image":"./img/products/glasses-for-vision/78.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-78","price":1200},{"category":"glasses for vision","id":79,"image":"./img/products/glasses-for-vision/79.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-79","price":1200},{"category":"glasses for vision","id":80,"image":"./img/products/glasses-for-vision/80.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-80","price":1200},{"category":"glasses for vision","id":81,"image":"./img/products/glasses-for-vision/81.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-81","price":1200},{"category":"glasses for vision","id":82,"image":"./img/products/glasses-for-vision/82.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-82","price":1200},{"category":"glasses for vision","id":83,"image":"./img/products/glasses-for-vision/83.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-83","price":1200},{"category":"glasses for vision","id":84,"image":"./img/products/glasses-for-vision/84.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-84","price":1200},{"category":"glasses for vision","id":85,"image":"./img/products/glasses-for-vision/85.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-85","price":1200},{"category":"glasses for vision","id":86,"image":"./img/products/glasses-for-vision/86.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-86","price":1200},{"category":"glasses for vision","id":87,"image":"./img/products/glasses-for-vision/87.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-87","price":1200},{"category":"glasses for vision","id":88,"image":"./img/products/glasses-for-vision/88.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-88","price":1200},{"category":"glasses for vision","id":89,"image":"./img/products/glasses-for-vision/89.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-89","price":1200},{"category":"glasses for vision","id":90,"image":"./img/products/glasses-for-vision/90.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-90","price":1200},{"category":"glasses for vision","id":91,"image":"./img/products/glasses-for-vision/91.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-91","price":1200},{"category":"glasses for vision","id":92,"image":"./img/products/glasses-for-vision/92.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-92","price":1200},{"category":"glasses for vision","id":93,"image":"./img/products/glasses-for-vision/93.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-93","price":1200}]'),f={CART_UPDATED:"cart:updated",FAVORITE_UPDATED:"favorite:updated",FAVORITE_OPENED:"favorite:opened"},$={CART:"user_cart",FAVORITES:"user_favorites"},w={ACTIVE:"is-active",HIDDEN:"is-hidden",IN_CART:"is-in-cart"},l={CURRENCY:"грн",ARTICLE:"Артикул:",BUY:"Купити",IN_CART:"В кошику",ADD_TO_FAVORITES:"Додати до обраного",REMOVE_FROM_FAVORITES:"Видалити з обраного",ADD_TO_CART_ARIA:"Додати у кошик товар",IN_CART_ARIA:"Товар уже у кошику",PRODUCT_LINK_ARIA:"Перейти до опису моделі",PRODUCT_NOT_FOUND:"Товар не знайдено",PRODUCTS_NOT_FOUND:"Товари не знайдено",EMPTY_CART:"Ваш кошик порожній",DELETE_ITEM:"Видалити товар",INCREASE_QUANTITY:"Збільшити кількість",DECREASE_QUANTITY:"Зменшити кількість",PREV_PAGE:"Попередня сторінка",NEXT_PAGE:"Наступна сторінка",PAGE:"Сторінка",CURRENT_PAGE:"Поточна сторінка",PAGINATION_LABEL:"Пагінація товарів",EMPTY_LIST:"Ваш список порожній",ART_SHORT:"Art:",TITLE_REMOVE:"Видалити",TITLE_BUY:"В кошик",ARIA_REMOVE_FROM_LIST:"Видалити товар зі списку обраного",ARIA_ADD_TO_CART:"Додати товар у кошик",ARIA_PRODUCT_LINK:"Перейти к товару",PRICE_LABEL:"Ціна"},E={PRODUCT_DETAILS:"[data-product-details]",PRODUCT_CATALOG:"[data-products-catalog]",FAVORITE_COUNTER:"[data-favorite-counter]",CART_COUNTER:"[data-cart-counter]",CART_LIST:"[data-cart-list]",CART_TOTAL_PRICE:"[data-cart-total-price]",FAVORITE_LIST:"[data-favorite-list]"},h={PRODUCT_ID:"data-product-id",PRODUCT_CARD:{ROOT:"data-product",PRICE:"data-card-price",BUY_BTN:"data-card-buy-btn",FAVORITE_BTN:"data-card-favorite"},PRODUCT_DETAILS:{BUY_BTN:"data-details-buy",FAVORITE_BTN:"data-details-favorite",BREADCRUMB:"data-product-breadcrumb"},CART:{MINUS:"data-cart-minus",PLUS:"data-cart-plus",REMOVE:"data-cart-remove-btn"},FAVORITE:{REMOVE:"data-favorite-remove-btn",BUY:"data-favorite-buy-btn",DROPDOWN:{ROOT:"[data-favorite]",BUTTON:"[data-favorite-btn]"}},PAGINATION:{ROOT:"[data-pagination]",LIST:"[data-pagination-list]",PREV:"[data-pagination-btn-prev]",NEXT:"[data-pagination-btn-next]"}},nt={UA:"uk-UA"},ct=new Intl.NumberFormat(nt.UA),C=o=>ct.format(o);var T,B,F,k;class lt{constructor(t={},e={},s={}){R(this,T);n(this,"defaultSettings",{rootAttribute:h.PRODUCT_CARD.ROOT,rootClass:"products__item",imageWrapperClass:"product__image ibg",bottomWrapperClass:"product__bottom"});n(this,"defaultAttributes",{buyBtn:h.PRODUCT_CARD.BUY_BTN,favoriteBtn:h.PRODUCT_CARD.FAVORITE_BTN,price:h.PRODUCT_CARD.PRICE,productId:h.PRODUCT_ID});n(this,"defaultClasses",{productCard:"product",favoriteLink:"product__link product__link-favorite",title:"product__title",descr:"product__descr",article:"product__article",priceWrapper:"product__price product-price",priceCurrent:"product__price-current",buyBtn:"button button--card product__btn",active:w.ACTIVE,inCart:w.IN_CART});n(this,"defaultI18n",{buy:l.BUY,inCart:l.IN_CART,currency:l.CURRENCY,articlePrefix:l.ARTICLE,titleFavorite:l.ADD_TO_FAVORITES,titleFavoriteRemove:l.REMOVE_FROM_FAVORITES,ariaBuy:l.ADD_TO_CART_ARIA,ariaInCart:l.IN_CART_ARIA,ariaProductLink:l.PRODUCT_LINK_ARIA,iconFavorite:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="21" fill="none" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M12 18.023c-4.64-2.635-7.236-5.26-8.493-7.55C2.224 8.138 2.33 6.156 3.052 4.74c1.478-2.9 5.684-3.828 8.242-.593l.705.893.707-.893c2.558-3.235 6.764-2.307 8.242.593.721 1.415.827 3.398-.456 5.735-1.257 2.289-3.852 4.914-8.492 7.549zm0-15.778C8.52-1.144 3.337.215 1.448 3.922.42 5.939.4 8.555 1.93 11.34c1.517 2.763 4.548 5.69 9.634 8.502l.436.24.435-.24c5.086-2.811 8.118-5.74 9.635-8.502 1.53-2.785 1.51-5.4.482-7.418C20.662.215 15.48-1.144 12 2.245" clip-rule="evenodd"/></svg>'});this.product=t,this.cartStorage=e.cart,this.favStorage=e.favorite,this.settings={...this.defaultSettings,...s.settings},this.attrs={...this.defaultAttributes,...s.attributes},this.classes={...this.defaultClasses,...s.classes},this.i18n={...this.defaultI18n,...s.i18n},this.element=null,this.subElements={},this.onFavoriteUpdate=this.syncFavoriteState.bind(this),this.onCartUpdate=this.syncCartState.bind(this)}getTemplate(){var v,A;const{id:t,image:e,model:s,description:i,article:a,price:d}=this.product,{attrs:g,classes:c,i18n:r}=this,u=(v=this.favStorage)==null?void 0:v.check(t),p=(A=this.cartStorage)==null?void 0:A.check(t);return`
      <article class="${c.productCard}" ${g.productId}="${t}">
        <a href="/card.html?id=${t}" 
           target="_blank" 
           class="${this.settings.imageWrapperClass}" 
           aria-label="${r.ariaProductLink}: ${s}"
           title="${s}">
          <img src="${e}" alt="" width="285" height="215" loading="lazy" aria-hidden="true" />
        </a>
        <div class="${this.settings.bottomWrapperClass}">
          <div class="product__actions">
            <button type="button" 
                    ${g.favoriteBtn} 
                    class="${c.favoriteLink} ${u?c.active:""}" 
                    title="${u?r.titleFavoriteRemove:r.titleFavorite}" 
                    aria-label="${r.titleFavorite}: ${s}"
                    aria-pressed="${u}">
              ${r.iconFavorite}
            </button>
          </div>
          <a href="/card.html?id=${t}" target="_blank" class="${c.title}">${s}</a>
          <div class="${c.descr}"><p>${i}</p></div>
          <div class="${c.article}">${r.articlePrefix} ${a}</div>
          <div class="${c.priceWrapper}">
            <div ${g.price} class="${c.priceCurrent}">
              ${C(d)} ${r.currency}
            </div>
          </div>
          <button type="button" 
                  ${g.buyBtn} 
                  class="${c.buyBtn} ${p?c.inCart:""}" 
                  title="${p?r.ariaInCart:r.buy}"
                  aria-label="${p?r.ariaInCart:r.ariaBuy}: ${s}">
            ${p?r.inCart:r.buy}
          </button>
        </div>
      </article>
    `}render(){const t=document.createElement("div");return t.innerHTML=this.getTemplate(),this.element=document.createElement("li"),this.element.className=this.settings.rootClass,this.element.setAttribute(this.settings.rootAttribute,this.product.id),this.element.append(t.firstElementChild),m(this,T,B).call(this),m(this,T,F).call(this),this.element}syncFavoriteState(){if(!this.favStorage)return;const t=this.favStorage.check(this.product.id),e=this.subElements.favoriteBtn;e&&(e.classList.toggle(this.classes.active,t),e.setAttribute("aria-pressed",t),e.title=t?this.i18n.titleFavoriteRemove:this.i18n.titleFavorite)}syncCartState(){if(!this.cartStorage)return;const t=this.cartStorage.check(this.product.id);m(this,T,k).call(this,t)}destroy(){this.element&&(document.removeEventListener(f.FAVORITE_UPDATED,this.onFavoriteUpdate),document.removeEventListener(f.CART_UPDATED,this.onCartUpdate),this.element.remove()),this.element=null,this.subElements={}}}T=new WeakSet,B=function(){const t=Object.values(this.attrs).map(s=>`[${s}]`).join(",");this.element.querySelectorAll(t).forEach(s=>{const i=Object.keys(this.attrs).find(a=>s.hasAttribute(this.attrs[a]));i&&(this.subElements[i]=s)})},F=function(){var t,e;(t=this.subElements.favoriteBtn)==null||t.addEventListener("click",s=>{var i;s.preventDefault(),(i=this.favStorage)==null||i.toggle(this.product.id)}),(e=this.subElements.buyBtn)==null||e.addEventListener("click",s=>{var i,a;s.preventDefault(),(i=this.cartStorage)!=null&&i.check(this.product.id)||(a=this.cartStorage)==null||a.add(this.product.id)}),document.addEventListener(f.FAVORITE_UPDATED,this.onFavoriteUpdate),document.addEventListener(f.CART_UPDATED,this.onCartUpdate)},k=function(t){const e=this.subElements.buyBtn;e&&(e.textContent=t?this.i18n.inCart:this.i18n.buy,e.classList.toggle(this.classes.inCart,t),e.title=t?this.i18n.ariaInCart:this.i18n.buy,e.setAttribute("aria-label",`${t?this.i18n.ariaInCart:this.i18n.ariaBuy}: ${this.product.model}`))};class dt{constructor(t,e=[],s={},i={}){n(this,"defaultSettings",{emptyClass:"products__empty"});n(this,"defaultI18n",{emptyMessage:l.PRODUCTS_NOT_FOUND});this.container=document.querySelector(t),this.products=e,this.cards=[],this.storage=s,this.settings={...this.defaultSettings,...i.settings},this.i18n={...this.defaultI18n,...i.i18n}}render(t=this.products){if(!this.container){console.warn("Container for ProductList not found");return}if(this.clear(),t.length===0){const s=document.createElement("li");s.className=this.settings.emptyClass,s.textContent=this.i18n.emptyMessage,this.container.append(s);return}const e=document.createDocumentFragment();t.forEach(s=>{const i=new lt(s,this.storage);this.cards.push(i),e.append(i.render())}),this.container.append(e)}updateProducts(t){this.products=t||[]}clear(){this.container&&(this.cards.forEach(t=>t.destroy()),this.container.innerHTML="",this.cards=[])}}var b,x,H,q,Y,O,G;class gt{constructor(t,e=[],s={}){R(this,b);n(this,"defaultSelectors",{pagination:h.PAGINATION.ROOT,paginationList:h.PAGINATION.LIST,btnPrev:h.PAGINATION.PREV,btnNext:h.PAGINATION.NEXT,pageItem:".pagination__item"});n(this,"defaultClasses",{active:w.ACTIVE,hidden:w.HIDDEN,item:"pagination__item",separator:"pagination__separator"});n(this,"defaultI18n",{prev:l.PREV_PAGE,next:l.NEXT_PAGE,page:l.PAGE,current:l.CURRENT_PAGE,paginationLabel:l.PAGINATION_LABEL});n(this,"onPageClick",t=>{const e=t.target.closest(this.selectors.pageItem);!e||e.classList.contains(this.classes.active)||(this.state.currentPage=Number(e.dataset.page),this.render())});n(this,"onNextClick",()=>{this.state.currentPage<this.getPagesCount()&&(this.state.currentPage++,this.render())});n(this,"onPrevClick",()=>{this.state.currentPage>1&&(this.state.currentPage--,this.render())});this.renderList=t,this.products=e,this.selectors={...this.defaultSelectors,...s.selectors},this.classes={...this.defaultClasses,...s.classes},this.i18n={...this.defaultI18n,...s.i18n},this.state={currentPage:1,productsPerPage:s.productsPerPage||12,visibleRange:2},this.pagination=document.querySelector(this.selectors.pagination),this.paginationList=document.querySelector(this.selectors.paginationList),this.btnPrev=document.querySelector(this.selectors.btnPrev),this.btnNext=document.querySelector(this.selectors.btnNext),this.paginationList&&this.init()}init(){m(this,b,H).call(this),this.render(),this.bindEvents(),m(this,b,x).call(this)}getPagesCount(){return Math.ceil(this.products.length/this.state.productsPerPage)}render(){m(this,b,q).call(this),this.renderPagination(),m(this,b,G).call(this)}renderPagination(){var g,c;const t=this.getPagesCount();if(t<=1){(g=this.pagination)==null||g.classList.add(this.classes.hidden);return}this.paginationList.innerHTML="";const e=document.createDocumentFragment(),{currentPage:s,visibleRange:i}=this.state,a=s-i,d=s+i;for(let r=1;r<=t;r++){const u=r===1||r===t,p=r>=a&&r<=d;u||p?e.append(m(this,b,Y).call(this,r)):r===a-1&&r>1?e.append(m(this,b,O).call(this)):r===d+1&&r<t&&e.append(m(this,b,O).call(this))}this.paginationList.append(e),(c=this.pagination)==null||c.classList.remove(this.classes.hidden)}bindEvents(){var t,e;this.paginationList.addEventListener("click",this.onPageClick),(t=this.btnNext)==null||t.addEventListener("click",this.onNextClick),(e=this.btnPrev)==null||e.addEventListener("click",this.onPrevClick),this.paginationList.addEventListener("keydown",s=>{s.key==="Enter"&&this.onPageClick(s)})}updateProducts(t){this.products=t||[],this.state.currentPage=1,this.render()}}b=new WeakSet,x=function(){var t,e;this.btnPrev&&this.btnPrev.setAttribute("aria-label",this.i18n.prev),this.btnNext&&this.btnNext.setAttribute("aria-label",this.i18n.next),(t=this.pagination)==null||t.setAttribute("role","navigation"),(e=this.pagination)==null||e.setAttribute("aria-label",this.i18n.paginationLabel)},H=function(){const t=()=>{const s=window.innerWidth;let i=2;s<370?i=0:s<768&&(i=1),this.state.visibleRange!==i&&(this.state.visibleRange=i,this.renderPagination())};t();let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(t,200)})},q=function(){const{currentPage:t,productsPerPage:e}=this.state,s=(t-1)*e,i=this.products.slice(s,s+e);if(this.renderList.render(i),t>1){const d=this.renderList.container,g=((d==null?void 0:d.getBoundingClientRect().top)||0)+window.pageYOffset+-100;window.scrollTo({top:g,behavior:"smooth"})}},Y=function(t){const e=t===this.state.currentPage,s=document.createElement("li");return s.className=this.classes.item,e&&s.classList.add(this.classes.active),s.dataset.page=t,s.textContent=t,s.setAttribute("role","button"),s.setAttribute("tabindex","0"),s.setAttribute("aria-label",`${e?this.i18n.current:this.i18n.page} ${t}`),e&&s.setAttribute("aria-current","page"),s},O=function(){const t=document.createElement("li");return t.className=this.classes.separator,t.textContent="...",t.setAttribute("aria-hidden","true"),t},G=function(){const t=this.getPagesCount(),{currentPage:e}=this.state;if(this.btnPrev){const s=e===1;this.btnPrev.disabled=s,this.btnPrev.setAttribute("aria-disabled",s)}if(this.btnNext){const s=e===t;this.btnNext.disabled=s,this.btnNext.setAttribute("aria-disabled",s)}};var y,U,_;class V{constructor(t,e,s=!0){R(this,y);this.STORAGE_KEY=t,this.EVENT_NAME=e,this.useNumbers=s,this.initTabSync()}initTabSync(){window.addEventListener("storage",t=>{t.key===this.STORAGE_KEY&&this.EVENT_NAME&&m(this,y,U).call(this)})}get(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?this.safeParse(t):[]}catch(t){return console.error("LocalStorage Get Error:",t),[]}}set(t=[]){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),m(this,y,U).call(this)}catch(e){console.error(`Storage Error: Cannot save ${this.STORAGE_KEY}`,e)}}check(t){const e=m(this,y,_).call(this,t);return this.get().includes(e)}add(t){const e=this.get();e.push(m(this,y,_).call(this,t)),this.set(e)}removeOne(t){const e=m(this,y,_).call(this,t),s=this.get(),i=s.indexOf(e);i!==-1&&(s.splice(i,1),this.set(s))}remove(t){const e=m(this,y,_).call(this,t),s=this.get().filter(i=>i!==e);this.set(s)}toggle(t){const e=m(this,y,_).call(this,t),s=this.get(),i=s.indexOf(e);return i===-1?s.push(e):s.splice(i,1),this.set(s),s}clear(){localStorage.removeItem(this.STORAGE_KEY),m(this,y,U).call(this)}safeParse(t){try{const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch{return[]}}}y=new WeakSet,U=function(){this.EVENT_NAME&&document.dispatchEvent(new CustomEvent(this.EVENT_NAME))},_=function(t){return this.useNumbers?Number(t):t};class pt{constructor(){n(this,"selectors",{root:h.FAVORITE.DROPDOWN.ROOT,button:h.FAVORITE.DROPDOWN.BUTTON,content:".favorite__content"});n(this,"stateClasses",{active:w.ACTIVE});n(this,"handleToggle",t=>{t.preventDefault(),this.isOpen?this.close():this.open()});n(this,"handleClickOutside",t=>{this.root.contains(t.target)||this.close()});n(this,"handleEscClose",t=>{t.key==="Escape"&&this.close()});this.root=document.querySelector(this.selectors.root),this.root&&(this.button=this.root.querySelector(this.selectors.button),this.content=this.root.querySelector(this.selectors.content),this.init())}init(){this.button.addEventListener("click",this.handleToggle)}get isOpen(){return this.root.classList.contains(this.stateClasses.active)}open(){this.root.classList.add(this.stateClasses.active),this.button.setAttribute("aria-expanded","true"),document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleEscClose),this.root.dispatchEvent(new CustomEvent(f.FAVORITE_OPENED))}close(){this.root.classList.remove(this.stateClasses.active),this.button.setAttribute("aria-expanded","false"),document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleEscClose)}destroy(){this.close(),this.button.removeEventListener("click",this.handleToggle)}}var P,z;class W{constructor(t=[],e={}){R(this,P);n(this,"defaultOptions",{keys:{id:"id",price:"price"}});this.options={keys:{...this.defaultOptions.keys,...e.keys}},this.productsMap=m(this,P,z).call(this,t)}getGroupedProducts(t){const{price:e}=this.options.keys,s=t.reduce((i,a)=>(i[a]=(i[a]||0)+1,i),{});return Object.entries(s).map(([i,a])=>{const d=this.productsMap.get(Number(i));return d?{...d,count:a,totalItemPrice:d[e]*a}:null}).filter(Boolean)}calculateTotal(t){return t.reduce((e,s)=>e+s.totalItemPrice,0)}}P=new WeakSet,z=function(t){const{id:e}=this.options.keys;return new Map(t.map(s=>[s[e],s]))};class ht{constructor(t={}){n(this,"defaultSelectors",{list:E.FAVORITE_LIST,totalPrice:".favorite__fullprice",productId:h.PRODUCT_ID,btnRemove:h.FAVORITE.REMOVE,btnBuy:h.FAVORITE.BUY});n(this,"defaultClasses",{item:"favorite__item",product:"favorite-product",emptyMessage:"favorite__empty"});n(this,"defaultI18n",{emptyList:l.EMPTY_LIST,currency:l.CURRENCY,art:l.ART_SHORT,titleRemove:l.TITLE_REMOVE,titleBuy:l.TITLE_BUY,ariaRemove:l.ARIA_REMOVE_FROM_LIST,ariaBuy:l.ARIA_ADD_TO_CART,ariaProductLink:l.ARIA_PRODUCT_LINK,priceLabel:l.PRICE_LABEL,iconTrash:'<svg class="svg svg--20" aria-hidden="true"><use xlink:href="#icon-monochrome-trash"></use></svg>',iconCart:'<svg class="svg svg--20" aria-hidden="true"><use xlink:href="#icon-monochrome-cart"></use></svg>'});this.selectors={...this.defaultSelectors,...t.selectors},this.classes={...this.defaultClasses,...t.classes},this.i18n={...this.defaultI18n,...t.i18n},this.container=document.querySelector(this.selectors.list),this.totalPriceElement=document.querySelector(this.selectors.totalPrice)}render(t,e){this.container&&(t.length===0?this.container.innerHTML=`<li class="${this.classes.emptyMessage}">${this.i18n.emptyList}</li>`:this.container.innerHTML=t.map(s=>this.getItemTemplate(s)).join(""),this.updateTotal(e))}updateTotal(t){this.totalPriceElement&&(this.totalPriceElement.textContent=`${C(t)} ${this.i18n.currency}`)}getItemTemplate(t){const{id:e,image:s,model:i,price:a,article:d}=t,g=this.selectors,c=this.classes,r=this.i18n;return`
      <li class="${c.item}">
        <article class="${c.product}" ${g.productId}="${e}">
          <a href="/card.html?id=${e}" 
             target="_blank" 
             class="${c.product}__image" 
             aria-label="${r.ariaProductLink} ${i}">
            <img src="${s}" alt="" width="80" height="80" loading="lazy" aria-hidden="true" />
          </a>
          <div class="${c.product}__wrapper">
            <a href="/card.html?id=${e}" 
               target="_blank" 
               class="${c.product}__title"
               aria-label="${i}">${i}</a>
            <div class="${c.product}__inner">
              <div class="${c.product}__article" aria-label="${r.art}">${r.art} ${d}</div>
              <div class="${c.product}__price" aria-label="${r.priceLabel}">${C(a)} ${r.currency}</div>
            </div>
          </div>
          <div class="${c.product}__buttons">
            <button type="button" 
                    ${g.btnRemove} 
                    class="${c.product}__btn" 
                    title="${r.titleRemove}" 
                    aria-label="${r.ariaRemove}: ${i}">
              ${r.iconTrash}
            </button>
            <button type="button" 
                    ${g.btnBuy} 
                    class="${c.product}__btn" 
                    title="${r.titleBuy}" 
                    aria-label="${r.ariaBuy}: ${i}">
              ${r.iconCart}
            </button>
          </div>
        </article>
      </li>`}}class mt{constructor(t,e,s){this.storage=t,this.cartStorage=s,this.service=new W(e),this.view=new ht,this.view.container&&this.init()}init(){this.refresh(),this.initEventListeners(),document.addEventListener(f.FAVORITE_UPDATED,()=>this.refresh())}refresh(){const t=this.storage.get(),e=this.service.getGroupedProducts(t),s=this.service.calculateTotal(e);this.view.render(e,s)}initEventListeners(){const{productId:t,btnRemove:e,btnBuy:s}=this.view.selectors;this.view.container.addEventListener("click",i=>{const a=i.target.closest(`[${t}]`);if(!a)return;const d=Number(a.getAttribute(t));i.target.closest(`[${e}]`)&&(i.stopPropagation(),this.storage.remove(d)),i.target.closest(`[${s}]`)&&this.cartStorage&&(i.stopPropagation(),this.cartStorage.add(d))})}}class D{constructor(t,e,s){this.counters=document.querySelectorAll(t),this.storage=e,this.eventName=s,!(this.counters.length===0||!this.storage)&&this.init()}init(){this.update(),document.addEventListener(this.eventName,()=>{this.update()})}update(){const e=this.storage.get().length;this.counters.forEach(s=>{s.textContent=e,e>0?s.classList.remove(w.HIDDEN):s.classList.add(w.HIDDEN)})}}class ut{constructor(t={},e={}){n(this,"defaultSelectors",{list:E.CART_LIST,totalPrice:E.CART_TOTAL_PRICE,productId:h.PRODUCT_ID,btnMinus:h.CART.MINUS,btnPlus:h.CART.PLUS,btnRemove:h.CART.REMOVE});n(this,"defaultClasses",{item:"cart-item",itemImage:"cart-item__image",itemImg:"cart-item__img",itemInfo:"cart-item__info",itemName:"cart-item__title",itemArticle:"cart-item__article",itemActions:"cart-item__actions",quantity:"cart-item__quantity",quantityBtn:"quantity__button",quantityInput:"quantity__input",priceBlock:"cart-item__price-block",price:"cart-item__price",deleteBtn:"cart-item__delete",emptyMessage:"cart__empty"});n(this,"defaultI18n",{emptyCart:l.EMPTY_CART,currency:l.CURRENCY,articleLabel:l.ARTICLE,deleteLabel:l.DELETE_ITEM,minusLabel:l.DECREASE_QUANTITY,plusLabel:l.INCREASE_QUANTITY,iconTrash:`
      <svg class="svg svg--20">
        <use xlink:href="#icon-monochrome-trash"></use>
      </svg>
    `});this.selectors={...this.defaultSelectors,...t.selectors},this.classes={...this.defaultClasses,...t.classes},this.i18n={...this.defaultI18n,...t.i18n},this.settings=e,this.container=document.querySelector(this.selectors.list),this.totalPriceElements=document.querySelectorAll(this.selectors.totalPrice)}render(t,e){this.container&&(t.length===0?this.container.innerHTML=`
        <li class="${this.classes.emptyMessage}">${this.i18n.emptyCart}</li>
      `:this.container.innerHTML=t.map(s=>this.getItemTemplate(s)).join(""),this.updateTotalDisplay(e))}updateTotalDisplay(t){const e=C(t);this.totalPriceElements.forEach(s=>{s.innerHTML=`${e}&nbsp;${this.i18n.currency}`})}getItemTemplate(t){const{id:e,image:s,model:i,price:a,article:d,count:g}=t,c=g<=(this.settings.minQuantity||1),r=g>=(this.settings.maxQuantity||99),u=this.selectors,p=this.classes,v=this.i18n;return`
      <li class="${p.item}" ${u.productId}="${e}">
        <a href="/card.html?id=${e}" class="${p.itemImage}">
          <img
            class="${p.itemImg}"
            src="${s}"
            alt="${i}"
            width="160"
            height="110"
            loading="lazy"
          />
        </a>
        <div class="${p.itemInfo}">
          <h3 class="${p.itemName}">${i}</h3>
          <div class="${p.itemArticle}">${v.articleLabel} ${d}</div>
        </div>
        <div class="${p.itemActions}">
          <div class="${p.priceBlock}">
            <span class="${p.price}">${C(a*g)}&nbsp;${v.currency}</span>
          </div>
          <div class="${p.quantity} quantity">
            <button
              type="button"
              ${u.btnMinus}
              class="${p.quantityBtn}"
              ${c?"disabled":""}
              aria-label="${v.minusLabel}"
              title="${v.minusLabel}"
            >
              −
            </button>
            <input
              type="number"
              class="${p.quantityInput}"
              value="${g}"
              readonly
            />
            <button
              type="button"
              ${u.btnPlus}
              class="${p.quantityBtn}"
              ${r?"disabled":""}
              aria-label="${v.plusLabel}"
              title="${v.plusLabel}"
            >
              +
            </button>
          </div>
          <button
            type="button"
            ${u.btnRemove}
            class="${p.deleteBtn}"
            aria-label="${v.deleteLabel}"
            title="${v.deleteLabel}"
          >
            ${v.iconTrash}
          </button>
        </div>
      </li>`}}class vt{constructor(t,e){n(this,"settings",{minQuantity:1,maxQuantity:15});n(this,"selectors",{list:E.CART_LIST,totalPrice:E.CART_TOTAL_PRICE});this.storage=t,this.service=new W(e),this.view=new ut({selectors:this.selectors},this.settings),this.view.container&&this.init()}init(){this.refresh(),this.initEventListeners(),document.addEventListener(f.CART_UPDATED,()=>this.refresh())}refresh(){const t=this.storage.get(),e=this.service.getGroupedProducts(t),s=this.service.calculateTotal(e);this.view.render(e,s)}initEventListeners(){const{productId:t,btnPlus:e,btnMinus:s,btnRemove:i}=this.view.selectors;this.view.container.addEventListener("click",a=>{const d=a.target.closest(`[${t}]`);if(!d)return;const g=Number(d.getAttribute(t)),c=a.target.closest(`[${e}]`),r=a.target.closest(`[${s}]`),u=a.target.closest(`[${i}]`);if(!c&&!r&&!u)return;const p=this.storage.get().filter(v=>v===g).length;c&&p<this.settings.maxQuantity?this.storage.add(g):r&&p>this.settings.minQuantity?this.storage.removeOne(g):u&&this.storage.remove(g)})}}class ft{constructor(t,e,s,i={}){n(this,"defaultSettings",{imageWrapperClass:"product-details__image ibg",infoWrapperClass:"product-details__info"});n(this,"defaultAttributes",{buyBtn:h.PRODUCT_DETAILS.BUY_BTN,favoriteBtn:h.PRODUCT_DETAILS.FAVORITE_BTN,breadcrumb:h.PRODUCT_DETAILS.BREADCRUMB});n(this,"defaultClasses",{title:"product-details__title",price:"product-details__price",description:"product-details__description",article:"product-details__article",actions:"product-details__actions",buyBtn:"product-details__btn button",favoriteBtn:"product-details__favorite-btn",active:w.ACTIVE,inCart:w.IN_CART});n(this,"defaultI18n",{buy:l.BUY,inCart:l.IN_CART,currency:l.CURRENCY,articlePrefix:l.ARTICLE,titleFavorite:l.ADD_TO_FAVORITES,titleFavoriteRemove:l.REMOVE_FROM_FAVORITES,ariaBuy:l.ADD_TO_CART_ARIA,ariaInCart:l.IN_CART_ARIA,errorMessage:l.PRODUCT_NOT_FOUND,iconFavorite:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="21" fill="none" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M12 18.023c-4.64-2.635-7.236-5.26-8.493-7.55C2.224 8.138 2.33 6.156 3.052 4.74c1.478-2.9 5.684-3.828 8.242-.593l.705.893.707-.893c2.558-3.235 6.764-2.307 8.242.593.721 1.415.827 3.398-.456 5.735-1.257 2.289-3.852 4.914-8.492 7.549zm0-15.778C8.52-1.144 3.337.215 1.448 3.922.42 5.939.4 8.555 1.93 11.34c1.517 2.763 4.548 5.69 9.634 8.502l.436.24.435-.24c5.086-2.811 8.118-5.74 9.635-8.502 1.53-2.785 1.51-5.4.482-7.418C20.662.215 15.48-1.144 12 2.245" clip-rule="evenodd"/></svg>'});this.container=document.querySelector(t),this.products=e,this.cartStorage=s.cart,this.favStorage=s.favorite,this.product=null,this.settings={...this.defaultSettings,...i.settings},this.attrs={...this.defaultAttributes,...i.attributes},this.classes={...this.defaultClasses,...i.classes},this.i18n={...this.defaultI18n,...i.i18n},this.subElements={},this.onFavoriteUpdate=this.syncFavoriteState.bind(this),this.onCartUpdate=this.syncCartState.bind(this),this.container&&this.init()}init(){const e=new URLSearchParams(window.location.search).get("id");if(this.product=this.products.find(s=>s.id===e)||this.products[0],!this.product){this.container.innerHTML=`<p>${this.i18n.errorMessage}</p>`;return}this.render(),this.updateBreadcrumbs(),this.initEventListeners()}getTemplate(){var v,A;const{id:t,image:e,model:s,description:i,article:a,price:d}=this.product,{attrs:g,classes:c,i18n:r}=this,u=(v=this.favStorage)==null?void 0:v.check(t),p=(A=this.cartStorage)==null?void 0:A.check(t);return`
      <div class="${this.settings.imageWrapperClass}">
        <img src="${e}" alt="${s}" width="600" height="480">
      </div>
      <div class="${this.settings.infoWrapperClass}">
        <h1 class="${c.title}">${s}</h1>
        <div class="${c.price}">${C(d)} ${r.currency}</div>
        
        <div class="${c.description}">
          <p>${i}</p>
        </div>
        
        <div class="${c.article}">
            ${r.articlePrefix} ${a}
        </div>

        <div class="${c.actions}">
          <button type="button" 
            ${g.buyBtn} 
            class="${c.buyBtn} ${p?c.inCart:""}"
            title="${p?r.ariaInCart:r.buy}">
            ${p?r.inCart:r.buy}
          </button>
          
          <button type="button" 
            ${g.favoriteBtn} 
            class="${c.favoriteBtn} ${u?c.active:""}"
            aria-label="${u?r.titleFavoriteRemove:r.titleFavorite}"
            title="${u?r.titleFavoriteRemove:r.titleFavorite}">
            ${r.iconFavorite}
          </button>
        </div>
      </div>
    `}render(){this.container.innerHTML=this.getTemplate(),this.initSubElements()}initSubElements(){this.subElements.buyBtn=this.container.querySelector(`[${this.attrs.buyBtn}]`),this.subElements.favoriteBtn=this.container.querySelector(`[${this.attrs.favoriteBtn}]`)}updateBreadcrumbs(){const t=document.querySelector(`[${this.attrs.breadcrumb}]`);t&&(t.textContent=this.product.model)}initEventListeners(){this.container.addEventListener("click",t=>{const e=t.target.closest(`[${this.attrs.buyBtn}]`),s=t.target.closest(`[${this.attrs.favoriteBtn}]`);e&&(this.cartStorage.check(this.product.id)||this.cartStorage.add(this.product.id)),s&&this.favStorage.toggle(this.product.id)}),document.addEventListener(f.CART_UPDATED,this.onCartUpdate),document.addEventListener(f.FAVORITE_UPDATED,this.onFavoriteUpdate)}syncCartState(){const{buyBtn:t}=this.subElements;if(!t)return;const e=this.cartStorage.check(this.product.id),{classes:s,i18n:i}=this;e?(t.classList.add(s.inCart),t.textContent=i.inCart,t.title=i.ariaInCart):(t.classList.remove(s.inCart),t.textContent=i.buy,t.title=i.buy)}syncFavoriteState(){const{favoriteBtn:t}=this.subElements;if(!t)return;const e=this.favStorage.check(this.product.id),{classes:s,i18n:i}=this;t.classList.toggle(s.active,e),t.setAttribute("aria-label",e?i.titleFavoriteRemove:i.titleFavorite),t.title=e?i.titleFavoriteRemove:i.titleFavorite}destroy(){document.removeEventListener(f.CART_UPDATED,this.onCartUpdate),document.removeEventListener(f.FAVORITE_UPDATED,this.onFavoriteUpdate),this.container.innerHTML="",this.product=null,this.subElements={}}}function bt(){const o=new V($.FAVORITES,f.FAVORITE_UPDATED),t=new V($.CART,f.CART_UPDATED);new ft(E.PRODUCT_DETAILS,L,{cart:t,favorite:o});const e=new dt(E.PRODUCT_CATALOG,L,{favorite:o,cart:t});new gt(e,L,{productsPerPage:12,visibleRange:2}),new pt,new mt(o,L,t),new vt(t,L),new D(E.FAVORITE_COUNTER,o,f.FAVORITE_UPDATED),new D(E.CART_COUNTER,t,f.CART_UPDATED)}window.addEventListener("DOMContentLoaded",()=>{Z(),new ot,new rt,at(),bt()});
