var w=Object.defineProperty;var L=(t,s,e)=>s in t?w(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var n=(t,s,e)=>L(t,typeof s!="symbol"?s+"":s,e);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();function E(){const t=document.querySelectorAll("[data-goto]");t.length>0&&t.forEach(s=>{s.addEventListener("click",e=>{var o;const i=e.target.closest("[data-goto]");if(i.dataset.goto&&document.querySelector(i.dataset.goto)){e.preventDefault();const c=document.querySelector(i.dataset.goto).getBoundingClientRect().top+window.pageYOffset-(((o=document.querySelector("header"))==null?void 0:o.offsetHeight)||0);window.scrollTo({top:c,behavior:"smooth"})}})})}function V(){window.addEventListener("scroll",function(){scrollY>0?document.querySelector(".header").classList.add("scroll"):document.querySelector(".header").classList.remove("scroll")})}class U{constructor(){n(this,"selectors",{root:"[data-header]",menu:"[data-header-menu]",burgerButton:"[data-header-burger-btn]",overlay:".header__overlay"});n(this,"stateClasses",{isActive:"is-active",isLock:"lock"});n(this,"toggleMenu",()=>{this.menuElement.classList.contains(this.stateClasses.isActive)?this.closeMenu():this.openMenu()});n(this,"onEscapePress",s=>{s.key==="Escape"&&this.closeMenu()});n(this,"onOverlayClick",s=>{s.target===this.overlayElement&&this.closeMenu()});n(this,"onMenuClick",s=>{const e=s.target;(e.closest("a.menu__link")||e.closest("button"))&&this.closeMenu()});if(this.rootElement=document.querySelector(this.selectors.root),!this.rootElement){console.error("Header root element not found");return}this.menuElement=this.rootElement.querySelector(this.selectors.menu),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.bindEvents()}openMenu(){this.burgerButtonElement.classList.add(this.stateClasses.isActive),this.menuElement.classList.add(this.stateClasses.isActive),document.body.classList.add(this.stateClasses.isLock)}closeMenu(){this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.menuElement.classList.remove(this.stateClasses.isActive),document.body.classList.remove(this.stateClasses.isLock)}bindEvents(){if(!this.burgerButtonElement||!this.menuElement){console.error("Burger button or menu element not found");return}this.burgerButtonElement.addEventListener("click",this.toggleMenu),this.menuElement.addEventListener("click",this.onMenuClick),this.overlayElement&&this.overlayElement.addEventListener("click",this.onOverlayClick),document.addEventListener("keydown",this.onEscapePress)}}class C{constructor(s={}){n(this,"defaults",{parent:document.body,offset:300,maxWidth:2e3,scrollUpClass:"scroll-up",scrollUpPathClass:"scroll-up__path"});n(this,"toggleVisibility",()=>{const{offset:s,maxWidth:e,scrollUpClass:i}=this.settings,o=this.getScrollTop(),r=window.innerWidth;this.updateDashOffset(),o>s&&r<=e?this.button.classList.add(`${i}--active`):this.button.classList.remove(`${i}--active`)});n(this,"scrollToTop",()=>{window.scrollTo({top:0,behavior:"smooth"})});this.settings={...this.defaults,...s};const{parent:e}=this.settings;if(!(e instanceof Element)){console.error("ScrollUpButton = Invalid parent element");return}this.parent=e,this.button=null,this.path=null,this.pathLength=0,this.init()}init(){this.createButton(),this.cacheElements(),this.setInitialStyles(),this.bindEvents(),this.toggleVisibility()}createButton(){const{scrollUpClass:s,scrollUpPathClass:e,parent:i}=this.settings;this.button=document.createElement("button"),this.button.classList.add(s),this.button.setAttribute("aria-label","scroll to top"),this.button.setAttribute("title","scroll to top"),this.button.innerHTML=`
      <svg class="${s}__svg" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 52 52">
        <path class="${e}" d="M 24,0 a24,24 0 0,1 0,48 a24,24 0 0,1 0,-48" />
      </svg>
    `,i.appendChild(this.button)}cacheElements(){const{scrollUpPathClass:s}=this.settings;this.path=this.button.querySelector(`.${s}`),this.pathLength=this.path.getTotalLength()}setInitialStyles(){this.path.style.strokeDasharray=`${this.pathLength} ${this.pathLength}`,this.path.style.transition="stroke-dashoffset 0.3s ease"}getScrollTop(){return window.scrollY||document.documentElement.scrollTop}updateDashOffset(){const s=document.documentElement.scrollHeight-window.innerHeight,e=this.pathLength-this.getScrollTop()*this.pathLength/s;this.path.style.strokeDashoffset=e}bindEvents(){window.addEventListener("scroll",this.toggleVisibility),window.addEventListener("resize",this.toggleVisibility),this.button.addEventListener("click",this.scrollToTop)}destroy(){window.removeEventListener("scroll",this.toggleVisibility),window.removeEventListener("resize",this.toggleVisibility),this.button.removeEventListener("click",this.scrollToTop),this.button.remove()}}function P(){const t=document.querySelectorAll(".scroller");window.matchMedia("(prefer-reduce-motion: reduce)").matches||s();function s(){t.forEach(e=>{e.setAttribute("data-animated",!0);const i=e.querySelector(".scroller__inner");Array.from(i.children).forEach(r=>{const c=r.cloneNode(!0);c.setAttribute("aria-hidden",!0),i.appendChild(c)})})}}let g=!0;const v=t=>{g=!1,setTimeout(()=>{g=!0},t)},S=()=>document.querySelectorAll("[data-right-padding]"),_=()=>(window.innerWidth-document.body.clientWidth)/16+"rem",h=(t="")=>{S().forEach(e=>{e.style.paddingRight=t}),document.body.style.paddingRight=t},k=t=>{document.documentElement.style.setProperty("--scrollbar-width",t)},q=()=>{document.documentElement.style.removeProperty("--scrollbar-width")},A=(t=500)=>{if(!g)return;const s=_();h(s),k(s),document.documentElement.setAttribute("data-scroll-lock",""),v(t)},B=(t=500)=>{g&&(setTimeout(()=>{h(""),q(),document.documentElement.removeAttribute("data-scroll-lock")},t),v(t))};class x{constructor(s={}){n(this,"selectors",{youtubePlace:"[data-popup-youtube-place]"});const e={youtubeAttr:"data-popup-youtube",autoplayYoutube:!0};this.options={...e,...s}}extractCodeFromButton(s){return(s==null?void 0:s.getAttribute(this.options.youtubeAttr))||null}extractCodeFromPopup(s){return(s==null?void 0:s.getAttribute(this.options.youtubeAttr))||null}setup(s,e){if(!s||!e)return;let i=s.querySelector("iframe");if(!i){i=document.createElement("iframe"),i.allowFullscreen=!0,i.allow=this.options.autoplayYoutube?"autoplay; encrypted-media":"encrypted-media";const o=s.querySelector(this.selectors.youtubePlace);if(!o)return;o.appendChild(i)}i.style.display="",i.src=`https://www.youtube.com/embed/${e}?rel=0&showinfo=0${this.options.autoplayYoutube?"&autoplay=1":""}`}clear(s){if(!s)return;const e=s.querySelector("iframe");e&&(e.style.display="none",e.src="")}}class T{constructor(s={}){n(this,"selectors",{root:"[data-popup]",openButton:"[data-popup-link]",closeButton:"[data-popup-close]",content:"[data-popup-body]"});n(this,"stateAttrs",{popupActive:"data-popup-active",bodyActive:"data-popup-open"});n(this,"stateClasses",{isVisible:"is-visible"});const e={youtubeAttr:"data-popup-youtube",autoplayYoutube:!0,focusCatch:!0,closeEsc:!0,bodyLock:!0,hash:{use:!0,navigate:!0}};this.options={...e,...s,hash:{...e.hash,...s==null?void 0:s.hash}},this.youtube=new x({youtubeAttr:this.options.youtubeAttr,autoplayYoutube:this.options.autoplayYoutube}),this.isOpen=!1,this.activePopup=null,this.lastFocusEl=null,this.youTubeCode=null,this._focusable=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])",'[tabindex]:not([tabindex^="-"])'],this.bindEvents(),this.options.hash.navigate&&window.location.hash&&this.openFromHash()}bindEvents(){document.addEventListener("click",this.handleClick.bind(this)),document.addEventListener("keydown",this.handleKey.bind(this)),this.options.hash.navigate&&window.addEventListener("hashchange",this.handleHashChange.bind(this))}handleClick(s){const e=s.target.closest(this.selectors.openButton),i=s.target.closest(this.selectors.closeButton);if(e){s.preventDefault(),this.youTubeCode=this.youtube.extractCodeFromButton(e),this.lastFocusEl=e;const o=e.getAttribute("data-popup-link");this.open(o);return}(i||this.isOpen&&!s.target.closest(this.selectors.content))&&(s.preventDefault(),this.close())}handleKey(s){this.isOpen&&(this.options.closeEsc&&s.key==="Escape"?(s.preventDefault(),this.close()):this.options.focusCatch&&s.key==="Tab"&&this.focusCatch(s))}handleHashChange(){window.location.hash?this.openFromHash():this.close()}open(s){if(!g)return;const e=document.querySelector(`[data-popup="${s}"]`)??document.querySelector(this.selectors.root);if(!e)return;this.activePopup&&this.activePopup!==e&&this.close(this.activePopup),this.activePopup=e,this.isOpen=!0;const i=this.youTubeCode||this.youtube.extractCodeFromPopup(e);i&&this.youtube.setup(e,i),this.options.hash.use&&this.updateHash(s),e.setAttribute(this.stateAttrs.popupActive,""),e.classList.add(this.stateClasses.isVisible),e.setAttribute("aria-hidden","false"),document.documentElement.setAttribute(this.stateAttrs.bodyActive,""),this.options.bodyLock&&A(),setTimeout(()=>this.focusTrap(),50)}close(s=this.activePopup){var e;!s||!this.isOpen||(s.removeAttribute(this.stateAttrs.popupActive),s.classList.remove(this.stateClasses.isVisible),s.setAttribute("aria-hidden","true"),this.isOpen=!1,this.activePopup=null,this.youtube.clear(s),document.documentElement.removeAttribute(this.stateAttrs.bodyActive),this.options.bodyLock&&B(),this.options.hash.use&&this.clearHash(),(e=this.lastFocusEl)==null||e.focus())}focusCatch(s){var r;const e=(r=this.activePopup)==null?void 0:r.querySelectorAll(this._focusable);if(!(e!=null&&e.length))return;const i=Array.from(e),o=i.indexOf(document.activeElement);s.shiftKey&&o===0?(i.at(-1).focus(),s.preventDefault()):!s.shiftKey&&o===i.length-1&&(i[0].focus(),s.preventDefault())}focusTrap(){var e,i;const s=(e=this.activePopup)==null?void 0:e.querySelectorAll(this._focusable);s!=null&&s.length&&((i=this.isOpen?s[0]:this.lastFocusEl)==null||i.focus())}updateHash(s){history.replaceState(null,"",`#${s}`)}clearHash(){history.replaceState(null,"",window.location.pathname)}openFromHash(){const s=window.location.hash.replace("#","");if(!s)return;const e=document.querySelector(`[data-popup-link="${s}"]`);this.youTubeCode=this.youtube.extractCodeFromButton(e),this.open(s)}}class O{constructor(){n(this,"selectors",{root:"[data-favorite]",button:"[data-favorite-btn]",content:".favorite__content"});n(this,"stateClasses",{active:"is-active"});this.root=document.querySelector(this.selectors.root),this.root&&(this.button=this.root.querySelector(this.selectors.button),this.content=this.root.querySelector(this.selectors.content),this.bindEvents())}bindEvents(){this.bindToggle(),this.bindEscClose(),this.bindClickOutside()}bindToggle(){this.button.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),this.toggle()})}bindEscClose(){document.addEventListener("keydown",s=>{s.key==="Escape"&&this.close()})}bindClickOutside(){document.addEventListener("click",s=>{this.root.contains(s.target)||this.close()})}open(){this.root.classList.add(this.stateClasses.active)}close(){this.root.classList.remove(this.stateClasses.active)}toggle(){this.root.classList.toggle(this.stateClasses.active)}}const m=JSON.parse('[{"category":"glasses for vision","id":"g1","image":"assets/img/products/glasses-for-vision/1.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-1","price":1200},{"category":"glasses for vision","id":"g2","image":"assets/img/products/glasses-for-vision/2.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-2","price":1200},{"category":"glasses for vision","id":"g3","image":"assets/img/products/glasses-for-vision/3.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-3","price":1200},{"category":"glasses for vision","id":"g4","image":"assets/img/products/glasses-for-vision/4.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-4","price":1200},{"category":"glasses for vision","id":"g5","image":"assets/img/products/glasses-for-vision/5.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-5","price":1200},{"category":"glasses for vision","id":"g6","image":"assets/img/products/glasses-for-vision/6.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-6","price":1200},{"category":"glasses for vision","id":"g7","image":"assets/img/products/glasses-for-vision/7.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-7","price":1200},{"category":"glasses for vision","id":"g8","image":"assets/img/products/glasses-for-vision/8.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-8","price":1200},{"category":"glasses for vision","id":"9","image":"assets/img/products/glasses-for-vision/9.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-9","price":1200},{"category":"glasses for vision","id":"g10","image":"assets/img/products/glasses-for-vision/10.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-10","price":1200},{"category":"glasses for vision","id":"g11","image":"assets/img/products/glasses-for-vision/11.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-11","price":1200},{"category":"glasses for vision","id":"g12","image":"assets/img/products/glasses-for-vision/12.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-12","price":1200},{"category":"glasses for vision","id":"g13","image":"assets/img/products/glasses-for-vision/13.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-13","price":1200},{"category":"glasses for vision","id":"g14","image":"assets/img/products/glasses-for-vision/14.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-14","price":1200},{"category":"glasses for vision","id":"g15","image":"assets/img/products/glasses-for-vision/15.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-15","price":1200},{"category":"glasses for vision","id":"g16","image":"assets/img/products/glasses-for-vision/16.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-16","price":1200},{"category":"glasses for vision","id":"g17","image":"assets/img/products/glasses-for-vision/17.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-17","price":1200},{"category":"glasses for vision","id":"g18","image":"assets/img/products/glasses-for-vision/18.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-18","price":1200},{"category":"glasses for vision","id":"g19","image":"assets/img/products/glasses-for-vision/19.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-19","price":1200},{"category":"glasses for vision","id":"g20","image":"assets/img/products/glasses-for-vision/20.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-20","price":1200},{"category":"glasses for vision","id":"g21","image":"assets/img/products/glasses-for-vision/21.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-21","price":1200},{"category":"glasses for vision","id":"g22","image":"assets/img/products/glasses-for-vision/22.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-22","price":1200},{"category":"glasses for vision","id":"g23","image":"assets/img/products/glasses-for-vision/23.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-23","price":1200},{"category":"glasses for vision","id":"g24","image":"assets/img/products/glasses-for-vision/24.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-24","price":1200},{"category":"glasses for vision","id":"g25","image":"assets/img/products/glasses-for-vision/25.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-25","price":1200},{"category":"glasses for vision","id":"g26","image":"assets/img/products/glasses-for-vision/26.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-26","price":1200},{"category":"glasses for vision","id":"g27","image":"assets/img/products/glasses-for-vision/27.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-27","price":1200},{"category":"glasses for vision","id":"g28","image":"assets/img/products/glasses-for-vision/28.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-28","price":1200},{"category":"glasses for vision","id":"g29","image":"assets/img/products/glasses-for-vision/29.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-29","price":1200},{"category":"glasses for vision","id":"g30","image":"assets/img/products/glasses-for-vision/30.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-30","price":1200},{"category":"glasses for vision","id":"g31","image":"assets/img/products/glasses-for-vision/31.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-31","price":1200},{"category":"glasses for vision","id":"g32","image":"assets/img/products/glasses-for-vision/32.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-32","price":1200},{"category":"glasses for vision","id":"g33","image":"assets/img/products/glasses-for-vision/33.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-33","price":1200},{"category":"glasses for vision","id":"g34","image":"assets/img/products/glasses-for-vision/34.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-34","price":1200},{"category":"glasses for vision","id":"g35","image":"assets/img/products/glasses-for-vision/35.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-35","price":1200},{"category":"glasses for vision","id":"g36","image":"assets/img/products/glasses-for-vision/36.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-36","price":1200},{"category":"glasses for vision","id":"g37","image":"assets/img/products/glasses-for-vision/37.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-37","price":1200},{"category":"glasses for vision","id":"g38","image":"assets/img/products/glasses-for-vision/38.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-38","price":1200},{"category":"glasses for vision","id":"g39","image":"assets/img/products/glasses-for-vision/39.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-39","price":1200},{"category":"glasses for vision","id":"g40","image":"assets/img/products/glasses-for-vision/40.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-40","price":1200},{"category":"glasses for vision","id":"g41","image":"assets/img/products/glasses-for-vision/41.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-41","price":1200},{"category":"glasses for vision","id":"g42","image":"assets/img/products/glasses-for-vision/42.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-42","price":1200},{"category":"glasses for vision","id":"g43","image":"assets/img/products/glasses-for-vision/43.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-43","price":1200},{"category":"glasses for vision","id":"g44","image":"assets/img/products/glasses-for-vision/44.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-44","price":1200},{"category":"glasses for vision","id":"g45","image":"assets/img/products/glasses-for-vision/45.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-45","price":1200},{"category":"glasses for vision","id":"g46","image":"assets/img/products/glasses-for-vision/46.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-46","price":1200},{"category":"glasses for vision","id":"g47","image":"assets/img/products/glasses-for-vision/47.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-47","price":1200},{"category":"glasses for vision","id":"g48","image":"assets/img/products/glasses-for-vision/48.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-48","price":1200},{"category":"glasses for vision","id":"g49","image":"assets/img/products/glasses-for-vision/49.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-49","price":1200},{"category":"glasses for vision","id":"g50","image":"assets/img/products/glasses-for-vision/50.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-50","price":1200},{"category":"glasses for vision","id":"g51","image":"assets/img/products/glasses-for-vision/51.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-51","price":1200},{"category":"glasses for vision","id":"g52","image":"assets/img/products/glasses-for-vision/52.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-52","price":1200},{"category":"glasses for vision","id":"g53","image":"assets/img/products/glasses-for-vision/53.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-53","price":1200},{"category":"glasses for vision","id":"g54","image":"assets/img/products/glasses-for-vision/54.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-54","price":1200},{"category":"glasses for vision","id":"g55","image":"assets/img/products/glasses-for-vision/55.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-55","price":1200},{"category":"glasses for vision","id":"g56","image":"assets/img/products/glasses-for-vision/56.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-56","price":1200},{"category":"glasses for vision","id":"g57","image":"assets/img/products/glasses-for-vision/57.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-57","price":1200},{"category":"glasses for vision","id":"g58","image":"assets/img/products/glasses-for-vision/58.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-58","price":1200},{"category":"glasses for vision","id":"g59","image":"assets/img/products/glasses-for-vision/59.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-59","price":1200},{"category":"glasses for vision","id":"g60","image":"assets/img/products/glasses-for-vision/60.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-60","price":1200},{"category":"glasses for vision","id":"g61","image":"assets/img/products/glasses-for-vision/61.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-61","price":1200},{"category":"glasses for vision","id":"g62","image":"assets/img/products/glasses-for-vision/62.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-62","price":1200},{"category":"glasses for vision","id":"g63","image":"assets/img/products/glasses-for-vision/63.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-63","price":1200},{"category":"glasses for vision","id":"g64","image":"assets/img/products/glasses-for-vision/64.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-64","price":1200},{"category":"glasses for vision","id":"g65","image":"assets/img/products/glasses-for-vision/65.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-65","price":1200},{"category":"glasses for vision","id":"g66","image":"assets/img/products/glasses-for-vision/66.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-66","price":1200},{"category":"glasses for vision","id":"g67","image":"assets/img/products/glasses-for-vision/67.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-67","price":1200},{"category":"glasses for vision","id":"g68","image":"assets/img/products/glasses-for-vision/68.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-68","price":1200},{"category":"glasses for vision","id":"g69","image":"assets/img/products/glasses-for-vision/69.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-69","price":1200},{"category":"glasses for vision","id":"g70","image":"assets/img/products/glasses-for-vision/70.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-70","price":1200},{"category":"glasses for vision","id":"g71","image":"assets/img/products/glasses-for-vision/71.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-71","price":1200},{"category":"glasses for vision","id":"g72","image":"assets/img/products/glasses-for-vision/72.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-72","price":1200},{"category":"glasses for vision","id":"g73","image":"assets/img/products/glasses-for-vision/73.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-73","price":1200},{"category":"glasses for vision","id":"g74","image":"assets/img/products/glasses-for-vision/74.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-74","price":1200},{"category":"glasses for vision","id":"g75","image":"assets/img/products/glasses-for-vision/75.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-75","price":1200},{"category":"glasses for vision","id":"g76","image":"assets/img/products/glasses-for-vision/76.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-76","price":1200},{"category":"glasses for vision","id":"g77","image":"assets/img/products/glasses-for-vision/77.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-77","price":1200},{"category":"glasses for vision","id":"g78","image":"assets/img/products/glasses-for-vision/78.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-78","price":1200},{"category":"glasses for vision","id":"g79","image":"assets/img/products/glasses-for-vision/79.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-79","price":1200},{"category":"glasses for vision","id":"g80","image":"assets/img/products/glasses-for-vision/80.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-80","price":1200},{"category":"glasses for vision","id":"g81","image":"assets/img/products/glasses-for-vision/81.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-81","price":1200},{"category":"glasses for vision","id":"g82","image":"assets/img/products/glasses-for-vision/82.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-82","price":1200},{"category":"glasses for vision","id":"g83","image":"assets/img/products/glasses-for-vision/83.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-83","price":1200},{"category":"glasses for vision","id":"g84","image":"assets/img/products/glasses-for-vision/84.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-84","price":1200},{"category":"glasses for vision","id":"g85","image":"assets/img/products/glasses-for-vision/85.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-85","price":1200},{"category":"glasses for vision","id":"g86","image":"assets/img/products/glasses-for-vision/86.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-86","price":1200},{"category":"glasses for vision","id":"g87","image":"assets/img/products/glasses-for-vision/87.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-87","price":1200},{"category":"glasses for vision","id":"g88","image":"assets/img/products/glasses-for-vision/88.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-88","price":1200},{"category":"glasses for vision","id":"g89","image":"assets/img/products/glasses-for-vision/89.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-89","price":1200},{"category":"glasses for vision","id":"g90","image":"assets/img/products/glasses-for-vision/90.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-90","price":1200},{"category":"glasses for vision","id":"g91","image":"assets/img/products/glasses-for-vision/91.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-91","price":1200},{"category":"glasses for vision","id":"g92","image":"assets/img/products/glasses-for-vision/92.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-92","price":1200},{"category":"glasses for vision","id":"g93","image":"assets/img/products/glasses-for-vision/93.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-93","price":1200}]');class ${constructor(s){if(!s||typeof s!="object")throw new Error("Invalid product data");this.product=s,this.element=null}render(){if(!this.element){const s=document.createElement("li");s.classList.add("products__item","js-product"),s.innerHTML=this.getTemplate(),this.element=s}return this.element}getTemplate(){const{id:s,image:e,model:i,description:o,article:r,price:c}=this.product;return`
      <article data-card-link
               class="product"
               data-product-id="${s}">
               
        <a href="/card.html?id=${s}" 
           target="_blank" 
           class="product__image ibg">
          <img
            src="${e}"
            alt="${i}"
            data-card-image
            width="285"
            height="215"
            loading="lazy"
          />
        </a>

        <div class="product__bottom">
          <div class="product__actions">
            <button
              type="button"
              data-card-favorite
              class="product__link product__link-favorite"
            >
              <svg width="24" height="21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M12 18.023c-4.64-2.635-7.236-5.26-8.493-7.55C2.224 8.138 2.33 6.156 3.052 4.74c1.478-2.9 5.684-3.828 8.242-.593l.705.893.707-.893c2.558-3.235 6.764-2.307 8.242.593.721 1.415.827 3.398-.456 5.735-1.257 2.289-3.852 4.914-8.492 7.549zm0-15.778C8.52-1.144 3.337.215 1.448 3.922.42 5.939.4 8.555 1.93 11.34c1.517 2.763 4.548 5.69 9.634 8.502l.436.24.435-.24c5.086-2.811 8.118-5.74 9.635-8.502 1.53-2.785 1.51-5.4.482-7.418C20.662.215 15.48-1.144 12 2.245z"
                  fill="#e89f71"/>
              </svg>
            </button>
          </div>

          <a href="/card.html?id=${s}" 
             target="_blank" 
             data-card-title 
             class="product__title">${i}</a>

          <div class="product__descr">
            <p>${o}</p>
          </div>

          <div data-card-article class="product__article">Article: ${r}</div>

          <div class="product__price product-price">
            <div data-card-price class="product__price-current">
              ${c} грн
            </div>
          </div>

          <button
            data-card-buy-btn
            class="button button--card product__btn js-buy-button"
          >
            До кошика
          </button>
        </div>
      </article>
    `}}class I{constructor(s,e=[]){this.container=document.querySelector(s),this.products=e}render(s){this.container&&(this.container.innerHTML="",s.forEach(e=>{const i=new $(e);this.container.append(i.render())}))}updateProducts(s){this.products=s||[]}}class j{constructor(s,e=[]){n(this,"selectors",{pagination:"[data-pagination]",paginationList:"[data-pagination-list]",btnPrev:"[data-pagination-btn-prev]",btnNext:"[data-pagination-btn-next]",pageItem:".pagination__item"});n(this,"state",{currentPage:1,productsPerPage:12});n(this,"onPageClick",s=>{const e=s.target.closest(this.selectors.pageItem);e&&(this.state.currentPage=Number(e.dataset.page),this.render())});n(this,"onNextClick",()=>{const s=this.getPagesCount();this.state.currentPage=this.state.currentPage>=s?1:this.state.currentPage+1,this.render()});n(this,"onPrevClick",()=>{const s=this.getPagesCount();this.state.currentPage=this.state.currentPage<=1?s:this.state.currentPage-1,this.render()});this.renderList=s,this.products=e,this.pagination=document.querySelector(this.selectors.pagination),this.paginationList=document.querySelector(this.selectors.paginationList),this.btnPrev=document.querySelector(this.selectors.btnPrev),this.btnNext=document.querySelector(this.selectors.btnNext),this.paginationList&&(this.render(),this.bindEvents())}render(){this.renderProducts(),this.renderPagination(),this.updateActivePage()}renderProducts(){const{currentPage:s,productsPerPage:e}=this.state,i=(s-1)*e,o=i+e,r=this.products.slice(i,o);this.renderList.render(r)}renderPagination(){var e;const s=this.getPagesCount();this.paginationList.innerHTML="";for(let i=1;i<=s;i++){const o=document.createElement("li");o.className="pagination__item",o.dataset.page=i,o.textContent=i,this.paginationList.append(o)}(e=this.pagination)==null||e.classList.remove("hidden")}getPagesCount(){return Math.ceil(this.products.length/this.state.productsPerPage)}updateActivePage(){this.paginationList.querySelectorAll(this.selectors.pageItem).forEach(e=>{e.classList.toggle("is-active",Number(e.dataset.page)===this.state.currentPage)})}bindEvents(){var s,e;this.paginationList.addEventListener("click",this.onPageClick),(s=this.btnNext)==null||s.addEventListener("click",this.onNextClick),(e=this.btnPrev)==null||e.addEventListener("click",this.onPrevClick)}updateProducts(s){this.products=s||[],this.state.currentPage=1,this.render()}}const a={cart:".js-cart",productsList:"[data-products-catalog]",cartList:".js-cart-list",cartOrder:".js-cart-order-container",cartEmpty:".js-cart-empty-container",totalPrice:".js-cart-total-price",buyButton:".js-buy-button",removeButton:".js-remove",plusButton:".js-plus",minusButton:".js-minus",cartItem:".js-cart-item",counter:".js-counter",currentItems:".js-current-items",cartPrice:".js-cart-price"},d={hidden:"hidden",disabled:"disabled"},l={cart:document.querySelector(a.cart),productsList:document.querySelector(a.productsList),cartList:document.querySelector(a.cartList),cartOrder:document.querySelector(a.cartOrder),cartEmpty:document.querySelector(a.cartEmpty),totalPrice:document.querySelector(a.totalPrice)},b="cart",M=t=>{try{return JSON.parse(t)}catch{return null}},N=(t=[])=>{try{localStorage.setItem(b,JSON.stringify(t))}catch(s){console.error("Failed to save cart to localStorage",s)}},F=()=>{try{const t=M(localStorage.getItem(b));return Array.isArray(t)?t:[]}catch(t){return console.error("Failed to load cart from localStorage",t),[]}},H=()=>[...l.cartList.querySelectorAll(a.cartItem)].map(t=>{var s;return{id:t.querySelector(".item-cart__wrapper").id,model:t.querySelector(".item-cart__model").textContent,image:(s=t.querySelector("img"))==null?void 0:s.src,price:Number(t.querySelector(a.cartPrice).dataset.price),count:Number(t.querySelector(a.currentItems).textContent)}}),D=t=>{var s;return{id:t.querySelector("[data-card-link]").id,model:t.querySelector("[data-card-title]").textContent,article:t.querySelector("[data-card-article]").textContent,price:parseInt(t.querySelector("[data-card-price]").textContent.replace(/\s/g,""),10),image:(s=t.querySelector("[data-card-image]"))==null?void 0:s.src,count:1}},y=t=>{const{id:s,image:e,model:i,article:o,price:r}=t,c=document.createElement("li");c.className="cart__item item-cart js-cart-item",c.innerHTML=`
    <span class="close js-remove">x</span>
    <div class="item-cart__wrapper" id="${s}">
      <div class="item-cart__model">${i}</div>
      <div data-card-article class="product__article">Article: ${o}</div>
      <div class="item-cart__image">
        <img src="${e}" alt="${i}">
      </div>

      <div class="item-cart__counter">
        <div class="stapper js-counter">
          <button type="button"
            class="stapper__button js-minus ${d.disabled}">
            –
          </button>
          <div class="stapper__number js-current-items">
            ${t.count}
          </div>
          <button type="button" class="stapper__button js-plus">+</button>
        </div>

        <div class="item-cart__price">
          <span
            class="item-cart__price-counter js-cart-price"
            data-price="${r}">
            ${r}
          </span>
          <span class="item-cart__currency">грн</span>
        </div>
      </div>
    </div>
  `,l.cartList.appendChild(c)},W=(t,s)=>{if(!t.target.classList.contains(a.buyButton.slice(1)))return;const e=t.target.closest(".js-product"),i=D(e),o=l.cartList.querySelector(`#${i.id}`);if(o){const r=o.querySelector(a.currentItems),c=o.querySelector(a.minusButton);r.textContent=parseInt(r.textContent,10)+1,c.classList.remove(d.disabled)}else y(i);s()},Y=(t,s)=>{if(!t.target.classList.contains(a.removeButton.slice(1)))return;const e=t.target.closest(a.cartItem);e&&e.remove(),s()},R=t=>{Array.isArray(t)&&t.forEach(y)},K=(t,s)=>{if(!t.target.classList.contains(a.plusButton.slice(1))&&!t.target.classList.contains(a.minusButton.slice(1)))return;const e=t.target.closest(a.counter),i=e.querySelector(a.currentItems),o=e.querySelector(a.minusButton);let r=Number(i.textContent);t.target.classList.contains(a.plusButton.slice(1))&&(r++,o.classList.remove(d.disabled)),t.target.classList.contains(a.minusButton.slice(1))&&(r--,r<=1&&(r=1,o.classList.add(d.disabled))),i.textContent=r,s()},f=new Intl.NumberFormat("ru"),z=()=>{let t=0;l.cartList.querySelectorAll(a.cartItem).forEach(e=>{const i=e.querySelector(a.currentItems),o=e.querySelector(a.cartPrice),r=parseInt(i.textContent,10)||1,c=parseInt(o.dataset.price,10)||0,u=r*c;o.textContent=f.format(u),t+=u}),l.totalPrice.textContent=f.format(t)},J=()=>{const t=l.cart.querySelector(a.cartItem);l.cartOrder.classList.toggle(d.hidden,!t),l.cartEmpty.classList.toggle(d.hidden,t)},p=()=>{J(),z(),N(H())},G=()=>{R(F()),p(),l.productsList.addEventListener("click",t=>W(t,p)),l.cartList.addEventListener("click",t=>{Y(t,p),K(t,p)})},Q=(t,s)=>{const e=document.querySelector(t),i=document.querySelector(s);if(!e||!i)return;const o=i.children.length;e.textContent=o,e.classList.toggle("is-hidden",o===0)};function X(){const t=new I("[data-products-catalog]",m);new j(t,m),G(),Q("[data-favorite-counter]","[data-favorite-list]")}window.addEventListener("DOMContentLoaded",()=>{E(),V(),new U,new C,new T,P(),new O,X()});
