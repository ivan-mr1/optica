var $=Object.defineProperty;var P=o=>{throw TypeError(o)};var q=(o,e,t)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var n=(o,e,t)=>q(o,typeof e!="symbol"?e+"":e,t),N=(o,e,t)=>e.has(o)||P("Cannot "+t);var u=(o,e,t)=>e.has(o)?P("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t);var c=(o,e,t)=>(N(o,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();if(typeof window<"u"){let o=function(){var e=document.body,t=document.getElementById("__svg__icons__dom__");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg__icons__dom__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol fill="none" viewBox="0 0 32 32" id="icon-colored-instagram"><rect width="28" height="28" x="2" y="2" fill="url(#icon-colored-instagram_a1a)" rx="6" /><rect width="28" height="28" x="2" y="2" fill="url(#icon-colored-instagram_b1a)" rx="6" /><rect width="28" height="28" x="2" y="2" fill="url(#icon-colored-instagram_c1a)" rx="6" /><path fill="#fff" d="M23 10.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" /><path fill="#fff" fill-rule="evenodd" d="M16 21a5 5 0 1 0 0-10 5 5 0 0 0 0 10m0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M6 15.6c0-3.36 0-5.04.654-6.324a6 6 0 0 1 2.622-2.622C10.56 6 12.24 6 15.6 6h.8c3.36 0 5.04 0 6.324.654a6 6 0 0 1 2.622 2.622C26 10.56 26 12.24 26 15.6v.8c0 3.36 0 5.04-.654 6.324a6 6 0 0 1-2.622 2.622C21.44 26 19.76 26 16.4 26h-.8c-3.36 0-5.04 0-6.324-.654a6 6 0 0 1-2.622-2.622C6 21.44 6 19.76 6 16.4zM15.6 8h.8c1.713 0 2.878.002 3.778.075.877.072 1.325.202 1.638.361a4 4 0 0 1 1.748 1.748c.16.313.29.761.36 1.638.074.9.076 2.065.076 3.778v.8c0 1.713-.002 2.878-.075 3.778-.072.877-.202 1.325-.361 1.638a4 4 0 0 1-1.748 1.748c-.313.16-.761.29-1.638.36-.9.074-2.065.076-3.778.076h-.8c-1.713 0-2.878-.002-3.778-.075-.877-.072-1.325-.202-1.638-.361a4 4 0 0 1-1.748-1.748c-.16-.313-.29-.761-.36-1.638C8.001 19.278 8 18.113 8 16.4v-.8c0-1.713.002-2.878.075-3.778.072-.877.202-1.325.361-1.638a4 4 0 0 1 1.748-1.748c.313-.16.761-.29 1.638-.36.9-.074 2.065-.076 3.778-.076" clip-rule="evenodd" /><defs><radialGradient id="icon-colored-instagram_a1a" cx="0" cy="0" r="1" gradientTransform="rotate(-55.376 27.916 .066)scale(25.5196)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#b13589" /><stop offset="79.3%" stop-color="#c62f94" /><stop offset="100%" stop-color="#8a3ac8" /></radialGradient><radialGradient id="icon-colored-instagram_b1a" cx="0" cy="0" r="1" gradientTransform="rotate(-65.136 29.766 6.89)scale(22.5942)" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#e0e8b7" /><stop offset="44.5%" stop-color="#fb8a2e" /><stop offset="71.5%" stop-color="#e2425c" /><stop offset="100%" stop-color="#e2425c" stop-opacity="0" /></radialGradient><radialGradient id="icon-colored-instagram_c1a" cx="0" cy="0" r="1" gradientTransform="matrix(38.50003 -5.5 1.1764 8.23476 .5 3)" gradientUnits="userSpaceOnUse"><stop offset="15.7%" stop-color="#406adc" /><stop offset="46.8%" stop-color="#6a45be" /><stop offset="100%" stop-color="#6a45be" stop-opacity="0" /></radialGradient></defs></symbol><symbol viewBox="0 0 512 512" id="icon-colored-telegram"><rect width="512" height="512" rx="15%" fill="#37aee2" /><path fill="#c8daea" d="M199 404c-11 0-10-4-13-14l-32-105 245-144" /><path fill="#a9c9dd" d="M199 404c7 0 11-4 16-8l45-43-56-34" /><path fill="#f6fbfe" d="M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4" /></symbol><symbol viewBox="0 0 448 512" id="icon-colored-whatsapp"><path fill="#25D366" d="M448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48z" /><path fill="#FFF" d="M224 122.1c-67.9 0-123.1 55.2-123.1 123.1 0 22.6 6.1 44.6 17.7 64l-18.8 68.7 70.3-18.4c19.1 10.4 40.6 15.9 62.6 15.9 67.9 0 123.1-55.2 123.1-123.1 0-67.9-55.2-123.2-123.1-123.2zm60.3 173.4c-2.6 7.3-15.1 13.3-20.7 14.1-4.8.6-11.1 1.1-32.3-7.3-27-10.7-44.4-38.3-45.7-40.1-1.3-1.8-10.9-14.5-10.9-27.7s6.9-20.4 9.4-23c2.5-2.6 5.4-3.2 7.2-3.2 1.8 0 3.7 0 5.3.1 1.6.1 3.7-.6 5.8 4.5 2.1 5.1 7.3 17.7 7.9 19.1.6 1.3 1 2.9.1 4.7-1 1.8-1.5 2.9-2.9 4.7-1.4 1.8-2.9 4-4.2 5.3-1.4 1.4-3 3-1.3 6 1.7 3 7.6 12.5 16.2 20.2 11.1 9.9 20.5 13 23.5 14.5 3 1.5 4.7 1.3 6.5-.7 1.8-1.9 7.6-8.8 9.7-11.8 2-3 4-2.5 6.8-1.5 2.7 1 17.4 8.2 20.4 9.7 3 1.5 5 2.2 5.7 3.4.7 1.2.7 6.8-1.9 14.1z" /></symbol><symbol viewBox="0 0 35 29" id="icon-monochrome-cart"><path d="M26.1 19.9H7.9C5.3 19.9 3.7 18.1 3.3 16.3C3 15.2 0.7 7.1 0 4.9C-0.1 4.6 0.1 4.3 0.4 4.3H30V6.3H2.5C3.3 8.9 5 14.8 5.2 15.9C5.4 16.8 6.3 17.9 7.9 17.9H26.1V19.9Z" fill="#FFA501" /><path d="M24.6 24.8L23 23.7C23.2 23.4 23.4 23.1 23.5 22.7C24 21.2 27.5 8.8 29 3.5C29.5 1.4 31.3 0 33.5 0H34.7C34.8 0 35 0.2 35 0.3V1.6C35 1.8 34.8 2 34.7 2H33.5C32.3 2 31.2 2.8 30.9 4C29.4 9.3 25.9 21.8 25.4 23.4C25.2 23.9 24.9 24.4 24.6 24.8Z" fill="#FFA501" /><path d="M20.5 25H8.4V27H20.5V25Z" fill="#FFA501" /><path d="M6 29C4.3 29 3 27.6 3 26C3 24.3 4.4 23 6 23C7.7 23 9 24.4 9 26C9 27.6 7.7 29 6 29Z" fill="#FFA501" /><path d="M22.6 29C20.9 29 19.6 27.6 19.6 26C19.6 24.3 21 23 22.6 23C24.3 23 25.6 24.4 25.6 26C25.6 27.6 24.3 29 22.6 29Z" fill="#FFA501" /></symbol><symbol fill="none" viewBox="0 0 24 21" id="icon-monochrome-favorite-card"><path fill="#e89f71" fill-rule="evenodd" d="M12 18.023c-4.64-2.635-7.236-5.26-8.493-7.55C2.224 8.138 2.33 6.156 3.052 4.74c1.478-2.9 5.684-3.828 8.242-.593l.705.893.707-.893c2.558-3.235 6.764-2.307 8.242.593.721 1.415.827 3.398-.456 5.735-1.257 2.289-3.852 4.914-8.492 7.549zm0-15.778C8.52-1.144 3.337.215 1.448 3.922.42 5.939.4 8.555 1.93 11.34c1.517 2.763 4.548 5.69 9.634 8.502l.436.24.435-.24c5.086-2.811 8.118-5.74 9.635-8.502 1.53-2.785 1.51-5.4.482-7.418C20.662.215 15.48-1.144 12 2.245" clip-rule="evenodd" /></symbol><symbol viewBox="0 0 32 29" id="icon-monochrome-favorite"><path fill="#ffa501" d="M16 29c-.5 0-1-.2-1.4-.5C11.2 25.5 0 15.2 0 8.9 0 4 3.9 0 8.6 0c3.1 0 5.9 1.7 7.4 4.3C17.5 1.7 20.3 0 23.4 0 28.1 0 32 4 32 8.9c0 6.3-11.2 16.6-14.6 19.6-.4.3-.9.5-1.4.5M8.6 2C5 2 2 5.1 2 8.9 2 13.3 9.5 21.4 15.9 27h.1c6.5-5.6 14-13.7 14-18.1C30 5.1 27 2 23.4 2c-2.7 0-5.1 1.7-6.1 4.3-.2.3-.5.7-1.3.7-.7 0-1.1-.2-1.3-.7-1-2.6-3.4-4.3-6.1-4.3" /></symbol><symbol fill="none" viewBox="0 0 20 20" id="icon-monochrome-trash"><path fill="#ffa501" d="M18.572 2.857h-5v-.714C13.572.959 12.612 0 11.429 0H8.572C7.388 0 6.429.96 6.429 2.143v.714h-5a.714.714 0 1 0 0 1.429h.776L3.572 19.35c.033.369.343.65.714.649h11.428c.37.002.681-.28.715-.65l1.366-15.064h.776a.714.714 0 1 0 0-1.429M7.857 2.143c0-.395.32-.714.715-.714h2.857c.394 0 .714.32.714.714v.714H7.857zm7.205 16.428H4.938L3.643 4.286H16.36z" /><path fill="#ffa501" d="M7.857 16.381v-.003l-.714-10a.716.716 0 0 0-1.429.101l.715 10a.714.714 0 0 0 .714.664h.051a.714.714 0 0 0 .663-.762M10 5.714a.714.714 0 0 0-.714.715v10a.714.714 0 1 0 1.428 0v-10A.714.714 0 0 0 10 5.714M13.622 5.714a.716.716 0 0 0-.765.664l-.714 10a.714.714 0 0 0 .66.764h.053c.376.002.688-.288.715-.663l.715-10a.716.716 0 0 0-.664-.765" /></symbol>',e.insertBefore(t,e.lastChild)};var ce=o;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()}function I(){const o=document.querySelectorAll("[data-goto]");o.length>0&&o.forEach(e=>{e.addEventListener("click",t=>{var i;const s=t.target.closest("[data-goto]");if(s.dataset.goto&&document.querySelector(s.dataset.goto)){t.preventDefault();const a=document.querySelector(s.dataset.goto).getBoundingClientRect().top+window.pageYOffset-(((i=document.querySelector("header"))==null?void 0:i.offsetHeight)||0);window.scrollTo({top:a,behavior:"smooth"})}})})}function D(){window.addEventListener("scroll",function(){scrollY>0?document.querySelector(".header").classList.add("scroll"):document.querySelector(".header").classList.remove("scroll")})}class Y{constructor(){n(this,"selectors",{root:"[data-header]",menu:"[data-header-menu]",burgerButton:"[data-header-burger-btn]",overlay:".header__overlay"});n(this,"stateClasses",{isActive:"is-active",isLock:"lock"});n(this,"setHeightProperty",()=>{const e=this.rootElement.offsetHeight;document.documentElement.style.setProperty("--header-height",`${e}px`)});n(this,"toggleMenu",()=>{this.menuElement.classList.contains(this.stateClasses.isActive)?this.closeMenu():this.openMenu()});n(this,"onEscapePress",e=>{e.key==="Escape"&&this.closeMenu()});n(this,"onOverlayClick",e=>{e.target===this.overlayElement&&this.closeMenu()});n(this,"onMenuClick",e=>{const t=e.target;(t.closest("a")||t.closest("button"))&&this.closeMenu()});this.rootElement=document.querySelector(this.selectors.root),this.rootElement&&(this.menuElement=this.rootElement.querySelector(this.selectors.menu),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.overlayElement=this.rootElement.querySelector(this.selectors.overlay),this.bindEvents(),this.setHeightProperty())}updateAccessibility(e){this.burgerButtonElement.setAttribute("aria-expanded",e),document.body.classList.toggle(this.stateClasses.isLock,e)}openMenu(){this.burgerButtonElement.classList.add(this.stateClasses.isActive),this.menuElement.classList.add(this.stateClasses.isActive),this.updateAccessibility(!0),document.addEventListener("keydown",this.onEscapePress)}closeMenu(){this.burgerButtonElement.classList.remove(this.stateClasses.isActive),this.menuElement.classList.remove(this.stateClasses.isActive),this.updateAccessibility(!1),document.removeEventListener("keydown",this.onEscapePress)}bindEvents(){!this.burgerButtonElement||!this.menuElement||(this.burgerButtonElement.addEventListener("click",this.toggleMenu),this.menuElement.addEventListener("click",this.onMenuClick),window.addEventListener("resize",this.setHeightProperty),this.overlayElement&&this.overlayElement.addEventListener("click",this.onOverlayClick))}destroy(){this.burgerButtonElement.removeEventListener("click",this.toggleMenu),this.menuElement.removeEventListener("click",this.onMenuClick),document.removeEventListener("keydown",this.onEscapePress),window.removeEventListener("resize",this.setHeightProperty)}}class z{constructor(e={}){n(this,"defaults",{parent:document.body,offset:300,maxWidth:2e3,scrollUpClass:"scroll-up",scrollUpPathClass:"scroll-up__path"});n(this,"toggleVisibility",()=>{const{offset:e,maxWidth:t,scrollUpClass:s}=this.settings,i=this.getScrollTop(),r=window.innerWidth;this.updateDashOffset(),i>e&&r<=t?this.button.classList.add(`${s}--active`):this.button.classList.remove(`${s}--active`)});n(this,"scrollToTop",()=>{window.scrollTo({top:0,behavior:"smooth"})});this.settings={...this.defaults,...e};const{parent:t}=this.settings;if(!(t instanceof Element)){console.error("ScrollUpButton = Invalid parent element");return}this.parent=t,this.button=null,this.path=null,this.pathLength=0,this.init()}init(){this.createButton(),this.cacheElements(),this.setInitialStyles(),this.bindEvents(),this.toggleVisibility()}createButton(){const{scrollUpClass:e,scrollUpPathClass:t,parent:s}=this.settings;this.button=document.createElement("button"),this.button.classList.add(e),this.button.setAttribute("aria-label","scroll to top"),this.button.setAttribute("title","scroll to top"),this.button.innerHTML=`
      <svg class="${e}__svg" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 52 52">
        <path class="${t}" d="M 24,0 a24,24 0 0,1 0,48 a24,24 0 0,1 0,-48" />
      </svg>
    `,s.appendChild(this.button)}cacheElements(){const{scrollUpPathClass:e}=this.settings;this.path=this.button.querySelector(`.${e}`),this.pathLength=this.path.getTotalLength()}setInitialStyles(){this.path.style.strokeDasharray=`${this.pathLength} ${this.pathLength}`,this.path.style.transition="stroke-dashoffset 0.3s ease"}getScrollTop(){return window.scrollY||document.documentElement.scrollTop}updateDashOffset(){const e=document.documentElement.scrollHeight-window.innerHeight,t=this.pathLength-this.getScrollTop()*this.pathLength/e;this.path.style.strokeDashoffset=t}bindEvents(){window.addEventListener("scroll",this.toggleVisibility),window.addEventListener("resize",this.toggleVisibility),this.button.addEventListener("click",this.scrollToTop)}destroy(){window.removeEventListener("scroll",this.toggleVisibility),window.removeEventListener("resize",this.toggleVisibility),this.button.removeEventListener("click",this.scrollToTop),this.button.remove()}}function G(){const o=document.querySelectorAll(".scroller");window.matchMedia("(prefer-reduce-motion: reduce)").matches||e();function e(){o.forEach(t=>{t.setAttribute("data-animated",!0);const s=t.querySelector(".scroller__inner");Array.from(s.children).forEach(r=>{const a=r.cloneNode(!0);a.setAttribute("aria-hidden",!0),s.appendChild(a)})})}}let f=!0;const S=o=>{f=!1,setTimeout(()=>{f=!0},o)},R=()=>document.querySelectorAll("[data-right-padding]"),K=()=>(window.innerWidth-document.body.clientWidth)/16+"rem",x=(o="")=>{R().forEach(t=>{t.style.paddingRight=o}),document.body.style.paddingRight=o},W=o=>{document.documentElement.style.setProperty("--scrollbar-width",o)},Z=()=>{document.documentElement.style.removeProperty("--scrollbar-width")},j=(o=500)=>{if(!f)return;const e=K();x(e),W(e),document.documentElement.setAttribute("data-scroll-lock",""),S(o)},Q=(o=500)=>{f&&(setTimeout(()=>{x(""),Z(),document.documentElement.removeAttribute("data-scroll-lock")},o),S(o))};class J{constructor(e={}){n(this,"selectors",{youtubePlace:"[data-popup-youtube-place]"});const t={youtubeAttr:"data-popup-youtube",autoplayYoutube:!0};this.options={...t,...e}}extractCodeFromButton(e){return(e==null?void 0:e.getAttribute(this.options.youtubeAttr))||null}extractCodeFromPopup(e){return(e==null?void 0:e.getAttribute(this.options.youtubeAttr))||null}setup(e,t){if(!e||!t)return;let s=e.querySelector("iframe");if(!s){s=document.createElement("iframe"),s.allowFullscreen=!0,s.allow=this.options.autoplayYoutube?"autoplay; encrypted-media":"encrypted-media";const i=e.querySelector(this.selectors.youtubePlace);if(!i)return;i.appendChild(s)}s.style.display="",s.src=`https://www.youtube.com/embed/${t}?rel=0&showinfo=0${this.options.autoplayYoutube?"&autoplay=1":""}`}clear(e){if(!e)return;const t=e.querySelector("iframe");t&&(t.style.display="none",t.src="")}}class X{constructor(e={}){n(this,"selectors",{root:"[data-popup]",openButton:"[data-popup-link]",closeButton:"[data-popup-close]",content:"[data-popup-body]"});n(this,"stateAttrs",{popupActive:"data-popup-active",bodyActive:"data-popup-open"});n(this,"stateClasses",{isVisible:"is-visible"});const t={youtubeAttr:"data-popup-youtube",autoplayYoutube:!0,focusCatch:!0,closeEsc:!0,bodyLock:!0,hash:{use:!0,navigate:!0}};this.options={...t,...e,hash:{...t.hash,...e==null?void 0:e.hash}},this.youtube=new J({youtubeAttr:this.options.youtubeAttr,autoplayYoutube:this.options.autoplayYoutube}),this.isOpen=!1,this.activePopup=null,this.lastFocusEl=null,this.youTubeCode=null,this._focusable=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])",'[tabindex]:not([tabindex^="-"])'],this.bindEvents(),this.options.hash.navigate&&window.location.hash&&this.openFromHash()}bindEvents(){document.addEventListener("click",this.handleClick.bind(this)),document.addEventListener("keydown",this.handleKey.bind(this)),this.options.hash.navigate&&window.addEventListener("hashchange",this.handleHashChange.bind(this))}handleClick(e){const t=e.target.closest(this.selectors.openButton),s=e.target.closest(this.selectors.closeButton);if(t){e.preventDefault(),this.youTubeCode=this.youtube.extractCodeFromButton(t),this.lastFocusEl=t;const i=t.getAttribute("data-popup-link");this.open(i);return}(s||this.isOpen&&!e.target.closest(this.selectors.content))&&(e.preventDefault(),this.close())}handleKey(e){this.isOpen&&(this.options.closeEsc&&e.key==="Escape"?(e.preventDefault(),this.close()):this.options.focusCatch&&e.key==="Tab"&&this.focusCatch(e))}handleHashChange(){window.location.hash?this.openFromHash():this.close()}open(e){if(!f)return;const t=document.querySelector(`[data-popup="${e}"]`)??document.querySelector(this.selectors.root);if(!t)return;this.activePopup&&this.activePopup!==t&&this.close(this.activePopup),this.activePopup=t,this.isOpen=!0;const s=this.youTubeCode||this.youtube.extractCodeFromPopup(t);s&&this.youtube.setup(t,s),this.options.hash.use&&this.updateHash(e),t.setAttribute(this.stateAttrs.popupActive,""),t.classList.add(this.stateClasses.isVisible),t.setAttribute("aria-hidden","false"),document.documentElement.setAttribute(this.stateAttrs.bodyActive,""),this.options.bodyLock&&j(),setTimeout(()=>this.focusTrap(),50)}close(e=this.activePopup){var t;!e||!this.isOpen||(e.removeAttribute(this.stateAttrs.popupActive),e.classList.remove(this.stateClasses.isVisible),e.setAttribute("aria-hidden","true"),this.isOpen=!1,this.activePopup=null,this.youtube.clear(e),document.documentElement.removeAttribute(this.stateAttrs.bodyActive),this.options.bodyLock&&Q(),this.options.hash.use&&this.clearHash(),(t=this.lastFocusEl)==null||t.focus())}focusCatch(e){var r;const t=(r=this.activePopup)==null?void 0:r.querySelectorAll(this._focusable);if(!(t!=null&&t.length))return;const s=Array.from(t),i=s.indexOf(document.activeElement);e.shiftKey&&i===0?(s.at(-1).focus(),e.preventDefault()):!e.shiftKey&&i===s.length-1&&(s[0].focus(),e.preventDefault())}focusTrap(){var t,s;const e=(t=this.activePopup)==null?void 0:t.querySelectorAll(this._focusable);e!=null&&e.length&&((s=this.isOpen?e[0]:this.lastFocusEl)==null||s.focus())}updateHash(e){history.replaceState(null,"",`#${e}`)}clearHash(){history.replaceState(null,"",window.location.pathname)}openFromHash(){const e=window.location.hash.replace("#","");if(!e)return;const t=document.querySelector(`[data-popup-link="${e}"]`);this.youTubeCode=this.youtube.extractCodeFromButton(t),this.open(e)}}const y=JSON.parse('[{"category":"glasses for vision","id":1,"image":"./img/products/glasses-for-vision/1.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-1","price":1200},{"category":"glasses for vision","id":2,"image":"./img/products/glasses-for-vision/2.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-2","price":1200},{"category":"glasses for vision","id":3,"image":"./img/products/glasses-for-vision/3.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-3","price":1200},{"category":"glasses for vision","id":4,"image":"./img/products/glasses-for-vision/4.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-4","price":1200},{"category":"glasses for vision","id":5,"image":"./img/products/glasses-for-vision/5.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-5","price":1200},{"category":"glasses for vision","id":6,"image":"./img/products/glasses-for-vision/6.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-6","price":1200},{"category":"glasses for vision","id":7,"image":"./img/products/glasses-for-vision/7.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-7","price":1200},{"category":"glasses for vision","id":8,"image":"./img/products/glasses-for-vision/8.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-8","price":1200},{"category":"glasses for vision","id":9,"image":"./img/products/glasses-for-vision/9.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-9","price":1200},{"category":"glasses for vision","id":10,"image":"./img/products/glasses-for-vision/10.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-10","price":1200},{"category":"glasses for vision","id":11,"image":"./img/products/glasses-for-vision/11.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-11","price":1200},{"category":"glasses for vision","id":12,"image":"./img/products/glasses-for-vision/12.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-12","price":1200},{"category":"glasses for vision","id":13,"image":"./img/products/glasses-for-vision/13.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-13","price":1200},{"category":"glasses for vision","id":14,"image":"./img/products/glasses-for-vision/14.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-14","price":1200},{"category":"glasses for vision","id":15,"image":"./img/products/glasses-for-vision/15.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-15","price":1200},{"category":"glasses for vision","id":16,"image":"./img/products/glasses-for-vision/16.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-16","price":1200},{"category":"glasses for vision","id":17,"image":"./img/products/glasses-for-vision/17.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-17","price":1200},{"category":"glasses for vision","id":18,"image":"./img/products/glasses-for-vision/18.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-18","price":1200},{"category":"glasses for vision","id":19,"image":"./img/products/glasses-for-vision/19.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-19","price":1200},{"category":"glasses for vision","id":20,"image":"./img/products/glasses-for-vision/20.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-20","price":1200},{"category":"glasses for vision","id":21,"image":"./img/products/glasses-for-vision/21.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-21","price":1200},{"category":"glasses for vision","id":22,"image":"./img/products/glasses-for-vision/22.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-22","price":1200},{"category":"glasses for vision","id":23,"image":"./img/products/glasses-for-vision/23.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-23","price":1200},{"category":"glasses for vision","id":24,"image":"./img/products/glasses-for-vision/24.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-24","price":1200},{"category":"glasses for vision","id":25,"image":"./img/products/glasses-for-vision/25.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-25","price":1200},{"category":"glasses for vision","id":26,"image":"./img/products/glasses-for-vision/26.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-26","price":1200},{"category":"glasses for vision","id":27,"image":"./img/products/glasses-for-vision/27.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-27","price":1200},{"category":"glasses for vision","id":28,"image":"./img/products/glasses-for-vision/28.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-28","price":1200},{"category":"glasses for vision","id":29,"image":"./img/products/glasses-for-vision/29.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-29","price":1200},{"category":"glasses for vision","id":30,"image":"./img/products/glasses-for-vision/30.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-30","price":1200},{"category":"glasses for vision","id":31,"image":"./img/products/glasses-for-vision/31.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-31","price":1200},{"category":"glasses for vision","id":32,"image":"./img/products/glasses-for-vision/32.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-32","price":1200},{"category":"glasses for vision","id":33,"image":"./img/products/glasses-for-vision/33.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-33","price":1200},{"category":"glasses for vision","id":34,"image":"./img/products/glasses-for-vision/34.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-34","price":1200},{"category":"glasses for vision","id":35,"image":"./img/products/glasses-for-vision/35.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-35","price":1200},{"category":"glasses for vision","id":36,"image":"./img/products/glasses-for-vision/36.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-36","price":1200},{"category":"glasses for vision","id":37,"image":"./img/products/glasses-for-vision/37.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-37","price":1200},{"category":"glasses for vision","id":38,"image":"./img/products/glasses-for-vision/38.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-38","price":1200},{"category":"glasses for vision","id":39,"image":"./img/products/glasses-for-vision/39.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-39","price":1200},{"category":"glasses for vision","id":40,"image":"./img/products/glasses-for-vision/40.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-40","price":1200},{"category":"glasses for vision","id":41,"image":"./img/products/glasses-for-vision/41.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-41","price":1200},{"category":"glasses for vision","id":42,"image":"./img/products/glasses-for-vision/42.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-42","price":1200},{"category":"glasses for vision","id":43,"image":"./img/products/glasses-for-vision/43.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-43","price":1200},{"category":"glasses for vision","id":44,"image":"./img/products/glasses-for-vision/44.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-44","price":1200},{"category":"glasses for vision","id":45,"image":"./img/products/glasses-for-vision/45.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-45","price":1200},{"category":"glasses for vision","id":46,"image":"./img/products/glasses-for-vision/46.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-46","price":1200},{"category":"glasses for vision","id":47,"image":"./img/products/glasses-for-vision/47.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-47","price":1200},{"category":"glasses for vision","id":48,"image":"./img/products/glasses-for-vision/48.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-48","price":1200},{"category":"glasses for vision","id":49,"image":"./img/products/glasses-for-vision/49.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-49","price":1200},{"category":"glasses for vision","id":50,"image":"./img/products/glasses-for-vision/50.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-50","price":1200},{"category":"glasses for vision","id":51,"image":"./img/products/glasses-for-vision/51.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-51","price":1200},{"category":"glasses for vision","id":52,"image":"./img/products/glasses-for-vision/52.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-52","price":1200},{"category":"glasses for vision","id":53,"image":"./img/products/glasses-for-vision/53.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-53","price":1200},{"category":"glasses for vision","id":54,"image":"./img/products/glasses-for-vision/54.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-54","price":1200},{"category":"glasses for vision","id":55,"image":"./img/products/glasses-for-vision/55.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-55","price":1200},{"category":"glasses for vision","id":56,"image":"./img/products/glasses-for-vision/56.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-56","price":1200},{"category":"glasses for vision","id":57,"image":"./img/products/glasses-for-vision/57.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-57","price":1200},{"category":"glasses for vision","id":58,"image":"./img/products/glasses-for-vision/58.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-58","price":1200},{"category":"glasses for vision","id":59,"image":"./img/products/glasses-for-vision/59.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-59","price":1200},{"category":"glasses for vision","id":60,"image":"./img/products/glasses-for-vision/60.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-60","price":1200},{"category":"glasses for vision","id":61,"image":"./img/products/glasses-for-vision/61.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-61","price":1200},{"category":"glasses for vision","id":62,"image":"./img/products/glasses-for-vision/62.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-62","price":1200},{"category":"glasses for vision","id":63,"image":"./img/products/glasses-for-vision/63.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-63","price":1200},{"category":"glasses for vision","id":64,"image":"./img/products/glasses-for-vision/64.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-64","price":1200},{"category":"glasses for vision","id":65,"image":"./img/products/glasses-for-vision/65.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-65","price":1200},{"category":"glasses for vision","id":66,"image":"./img/products/glasses-for-vision/66.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-66","price":1200},{"category":"glasses for vision","id":67,"image":"./img/products/glasses-for-vision/67.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-67","price":1200},{"category":"glasses for vision","id":68,"image":"./img/products/glasses-for-vision/68.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-68","price":1200},{"category":"glasses for vision","id":69,"image":"./img/products/glasses-for-vision/69.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-69","price":1200},{"category":"glasses for vision","id":70,"image":"./img/products/glasses-for-vision/70.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-70","price":1200},{"category":"glasses for vision","id":71,"image":"./img/products/glasses-for-vision/71.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-71","price":1200},{"category":"glasses for vision","id":72,"image":"./img/products/glasses-for-vision/72.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-72","price":1200},{"category":"glasses for vision","id":73,"image":"./img/products/glasses-for-vision/73.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-73","price":1200},{"category":"glasses for vision","id":74,"image":"./img/products/glasses-for-vision/74.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-74","price":1200},{"category":"glasses for vision","id":75,"image":"./img/products/glasses-for-vision/75.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-75","price":1200},{"category":"glasses for vision","id":76,"image":"./img/products/glasses-for-vision/76.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-76","price":1200},{"category":"glasses for vision","id":77,"image":"./img/products/glasses-for-vision/77.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-77","price":1200},{"category":"glasses for vision","id":78,"image":"./img/products/glasses-for-vision/78.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-78","price":1200},{"category":"glasses for vision","id":79,"image":"./img/products/glasses-for-vision/79.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-79","price":1200},{"category":"glasses for vision","id":80,"image":"./img/products/glasses-for-vision/80.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-80","price":1200},{"category":"glasses for vision","id":81,"image":"./img/products/glasses-for-vision/81.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-81","price":1200},{"category":"glasses for vision","id":82,"image":"./img/products/glasses-for-vision/82.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-82","price":1200},{"category":"glasses for vision","id":83,"image":"./img/products/glasses-for-vision/83.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-83","price":1200},{"category":"glasses for vision","id":84,"image":"./img/products/glasses-for-vision/84.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-84","price":1200},{"category":"glasses for vision","id":85,"image":"./img/products/glasses-for-vision/85.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-85","price":1200},{"category":"glasses for vision","id":86,"image":"./img/products/glasses-for-vision/86.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-86","price":1200},{"category":"glasses for vision","id":87,"image":"./img/products/glasses-for-vision/87.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-87","price":1200},{"category":"glasses for vision","id":88,"image":"./img/products/glasses-for-vision/88.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-88","price":1200},{"category":"glasses for vision","id":89,"image":"./img/products/glasses-for-vision/89.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-89","price":1200},{"category":"glasses for vision","id":90,"image":"./img/products/glasses-for-vision/90.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-90","price":1200},{"category":"glasses for vision","id":91,"image":"./img/products/glasses-for-vision/91.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-91","price":1200},{"category":"glasses for vision","id":92,"image":"./img/products/glasses-for-vision/92.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-92","price":1200},{"category":"glasses for vision","id":93,"image":"./img/products/glasses-for-vision/93.webp","description":"description model glasses for vision","model":"glasses for vision with UV protection 1","article":"01-93","price":1200}]');var m,w;class E{constructor(e,t){u(this,m);this.STORAGE_KEY=e,this.EVENT_NAME=t,this.initTabSync()}initTabSync(){window.addEventListener("storage",e=>{e.key===this.STORAGE_KEY&&this.EVENT_NAME&&c(this,m,w).call(this)})}get(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?this.safeParse(e):[]}catch(e){return console.error("LocalStorage Get Error:",e),[]}}check(e){return this.get().includes(Number(e))}set(e=[]){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),c(this,m,w).call(this)}catch(t){console.error(`Storage Error: Cannot save ${this.STORAGE_KEY}`,t)}}add(e){const t=this.get();t.push(Number(e)),this.set(t)}removeOne(e){const t=Number(e),s=this.get(),i=s.indexOf(t);i!==-1&&(s.splice(i,1),this.set(s))}remove(e){const t=Number(e),s=this.get().filter(i=>Number(i)!==t);this.set(s)}toggle(e){const t=Number(e),s=this.get(),i=s.indexOf(t);return i===-1?s.push(t):s.splice(i,1),this.set(s),s}clear(){localStorage.removeItem(this.STORAGE_KEY),c(this,m,w).call(this)}safeParse(e){try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}}m=new WeakSet,w=function(){this.EVENT_NAME&&document.dispatchEvent(new CustomEvent(this.EVENT_NAME))};const C=new E("user_cart","cart:updated"),k=new E("user_favorites","favorite:updated");var d,_,M,T,F;class ee{constructor(e={}){u(this,d);n(this,"settings",{rootAttribute:"data-product",rootClass:"products__item"});n(this,"attributes",{buyBtn:"data-card-buy-btn",favorite:"data-card-favorite",price:"data-card-price"});n(this,"stateClasses",{active:"is-active",inCart:"is-in-cart"});this.product=e,this.element=null,this.subElements={},this.onFavoriteUpdate=this.syncFavoriteState.bind(this),this.onCartUpdate=this.syncCartState.bind(this)}getTemplate(){const{id:e,image:t,model:s,description:i,article:r,price:a}=this.product;return`
      <article class="product" data-product-id="${e}">
        <a href="/card.html?id=${e}" target="_blank" class="product__image ibg">
          <img src="${t}" alt="${s}" width="285" height="215" loading="lazy" />
        </a>
        <div class="product__bottom">
          <div class="product__actions">
            <button type="button" ${this.attributes.favorite} class="product__link product__link-favorite">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="21" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M12 18.023c-4.64-2.635-7.236-5.26-8.493-7.55C2.224 8.138 2.33 6.156 3.052 4.74c1.478-2.9 5.684-3.828 8.242-.593l.705.893.707-.893c2.558-3.235 6.764-2.307 8.242.593.721 1.415.827 3.398-.456 5.735-1.257 2.289-3.852 4.914-8.492 7.549zm0-15.778C8.52-1.144 3.337.215 1.448 3.922.42 5.939.4 8.555 1.93 11.34c1.517 2.763 4.548 5.69 9.634 8.502l.436.24.435-.24c5.086-2.811 8.118-5.74 9.635-8.502 1.53-2.785 1.51-5.4.482-7.418C20.662.215 15.48-1.144 12 2.245" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <a href="/card.html?id=${e}" target="_blank" class="product__title">${s}</a>
          <div class="product__descr"><p>${i}</p></div>
          <div class="product__article">Артикул: ${r}</div>
          <div class="product__price product-price">
            <div ${this.attributes.price} class="product__price-current">
              ${c(this,d,_).call(this,a)} грн
            </div>
          </div>
          <button type="button" ${this.attributes.buyBtn} class="button button--card product__btn">
            До кошика
          </button>
        </div>
      </article>
    `}render(){const e=document.createElement("div");return e.innerHTML=this.getTemplate(),this.element=document.createElement("li"),this.element.classList.add(this.settings.rootClass),this.element.setAttribute(this.settings.rootAttribute,this.product.id),this.element.append(e.firstElementChild),c(this,d,M).call(this),this.syncFavoriteState(),this.syncCartState(),c(this,d,T).call(this),this.element}syncFavoriteState(){var t;const e=k.check(this.product.id);(t=this.subElements.cardFavorite)==null||t.classList.toggle(this.stateClasses.active,e)}syncCartState(){const e=C.check(this.product.id);c(this,d,F).call(this,e)}updatePrice(e){this.product.price=e,this.subElements.cardPrice&&(this.subElements.cardPrice.textContent=`${c(this,d,_).call(this,e)} грн`)}destroy(){this.element&&(document.removeEventListener("favorite:updated",this.onFavoriteUpdate),document.removeEventListener("cart:updated",this.onCartUpdate),this.element.remove()),this.element=null,this.subElements={}}}d=new WeakSet,_=function(e){return new Intl.NumberFormat("uk-UA").format(e)},M=function(){this.element.querySelectorAll("[data-card-buy-btn], [data-card-favorite], [data-card-price]").forEach(t=>{const s=Object.keys(t.dataset)[0];this.subElements[s]=t})},T=function(){var e,t;(e=this.subElements.cardFavorite)==null||e.addEventListener("click",()=>{k.toggle(this.product.id)}),(t=this.subElements.cardBuyBtn)==null||t.addEventListener("click",()=>{C.check(this.product.id)||C.add(this.product.id)}),document.addEventListener("favorite:updated",this.onFavoriteUpdate),document.addEventListener("cart:updated",this.onCartUpdate)},F=function(e){const t=this.subElements.cardBuyBtn;t&&(t.textContent=e?"В кошику":"До кошика",t.classList.toggle(this.stateClasses.inCart,e))};class te{constructor(e,t=[]){this.container=document.querySelector(e),this.products=t,this.cards=[]}render(e=this.products){if(!this.container){console.warn("Container not found");return}if(this.clear(),e.length===0){this.container.innerHTML='<li class="products__empty">Товари не знайдено</li>';return}const t=document.createDocumentFragment();e.forEach(s=>{const i=new ee(s);this.cards.push(i),t.append(i.render())}),this.container.append(t)}updateProducts(e){this.products=e||[]}clear(){this.container&&(this.cards.forEach(e=>{typeof e.destroy=="function"&&e.destroy()}),this.container.innerHTML="",this.cards=[])}}var p,H,B,L,O;class se{constructor(e,t=[]){u(this,p);n(this,"selectors",{pagination:"[data-pagination]",paginationList:"[data-pagination-list]",btnPrev:"[data-pagination-btn-prev]",btnNext:"[data-pagination-btn-next]",pageItem:".pagination__item"});n(this,"stateClasses",{active:"is-active",hidden:"is-hidden"});n(this,"state",{currentPage:1,productsPerPage:12});n(this,"onPageClick",e=>{const t=e.target.closest(this.selectors.pageItem);!t||t.classList.contains(this.stateClasses.active)||(this.state.currentPage=Number(t.dataset.page),this.render())});n(this,"onNextClick",()=>{this.state.currentPage<this.getPagesCount()&&(this.state.currentPage++,this.render())});n(this,"onPrevClick",()=>{this.state.currentPage>1&&(this.state.currentPage--,this.render())});this.renderList=e,this.products=t,this.pagination=document.querySelector(this.selectors.pagination),this.paginationList=document.querySelector(this.selectors.paginationList),this.btnPrev=document.querySelector(this.selectors.btnPrev),this.btnNext=document.querySelector(this.selectors.btnNext),this.paginationList&&(this.renderPagination(),this.render(),this.bindEvents())}getPagesCount(){return Math.ceil(this.products.length/this.state.productsPerPage)}render(){c(this,p,H).call(this),this.renderPagination(),c(this,p,O).call(this)}renderPagination(){var g,h;const e=this.getPagesCount();if(e<=1){(g=this.pagination)==null||g.classList.add(this.stateClasses.hidden);return}this.paginationList.innerHTML="";const t=document.createDocumentFragment(),{currentPage:s}=this.state,i=2,r=s-i,a=s+i;for(let l=1;l<=e;l++)l===1||l===e||l>=r&&l<=a?t.append(c(this,p,B).call(this,l)):l===r-1&&l>1?t.append(c(this,p,L).call(this)):l===a+1&&l<e&&t.append(c(this,p,L).call(this));this.paginationList.append(t),(h=this.pagination)==null||h.classList.remove(this.stateClasses.hidden)}bindEvents(){var e,t;this.paginationList.addEventListener("click",this.onPageClick),(e=this.btnNext)==null||e.addEventListener("click",this.onNextClick),(t=this.btnPrev)==null||t.addEventListener("click",this.onPrevClick)}updateProducts(e){this.products=e||[],this.state.currentPage=1,this.renderPagination(),this.render()}}p=new WeakSet,H=function(){const{currentPage:e,productsPerPage:t}=this.state,s=(e-1)*t,i=s+t,r=this.products.slice(s,i);if(this.renderList.render(r),e>1){const h=this.renderList.container.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:h,behavior:"smooth"})}},B=function(e){const t=document.createElement("li");return t.className="pagination__item",e===this.state.currentPage&&t.classList.add(this.stateClasses.active),t.dataset.page=e,t.textContent=e,t},L=function(){const e=document.createElement("li");return e.className="pagination__separator",e.textContent="...",e},O=function(){const e=this.getPagesCount();this.btnPrev&&(this.btnPrev.disabled=this.state.currentPage===1),this.btnNext&&(this.btnNext.disabled=this.state.currentPage===e)};class ie{constructor(){n(this,"selectors",{root:"[data-favorite]",button:"[data-favorite-btn]",content:".favorite__content"});n(this,"stateClasses",{active:"is-active"});n(this,"handleToggle",e=>{e.preventDefault(),this.isOpen?this.close():this.open()});n(this,"handleClickOutside",e=>{this.root.contains(e.target)||this.close()});n(this,"handleEscClose",e=>{e.key==="Escape"&&this.close()});this.root=document.querySelector(this.selectors.root),this.root&&(this.button=this.root.querySelector(this.selectors.button),this.content=this.root.querySelector(this.selectors.content),this.init())}init(){this.button.addEventListener("click",this.handleToggle)}get isOpen(){return this.root.classList.contains(this.stateClasses.active)}open(){this.root.classList.add(this.stateClasses.active),this.button.setAttribute("aria-expanded","true"),document.addEventListener("click",this.handleClickOutside),document.addEventListener("keydown",this.handleEscClose),this.root.dispatchEvent(new CustomEvent("favorite:opened"))}close(){this.root.classList.remove(this.stateClasses.active),this.button.setAttribute("aria-expanded","false"),document.removeEventListener("click",this.handleClickOutside),document.removeEventListener("keydown",this.handleEscClose)}destroy(){this.close(),this.button.removeEventListener("click",this.handleToggle)}}var v,V;class oe{constructor(e,t,s){u(this,v);n(this,"selectors",{list:"[data-favorite-list]",totalPrice:".favorite__fullprice"});this.storage=e,this.cartStorage=s,this.allProducts=t,this.element=document.querySelector(this.selectors.list),this.totalPriceElement=document.querySelector(this.selectors.totalPrice),this.formatter=new Intl.NumberFormat("uk-UA"),this.element&&this.init()}init(){this.render(),this.initEventListeners(),document.addEventListener("favorite:updated",()=>this.render())}render(){const e=this.storage.get(),t=this.allProducts.filter(i=>e.includes(Number(i.id)));if(t.length===0){this.element.innerHTML='<li class="favorite__empty">Ваш список порожній</li>',c(this,v,V).call(this,0);return}this.element.innerHTML=t.map(i=>this.template(i)).join("");const s=t.reduce((i,r)=>i+Number(r.price),0);c(this,v,V).call(this,s)}template(e){const{id:t,image:s,model:i,price:r,article:a}=e;return`
      <li class="favorite__item">
        <article class="favorite__product favorite-product" data-product-id="${t}">
          <a href="/card.html?id=${t}" target="_blank" class="favorite-product__image">
            <img src="${s}" alt="${i}" width="80" height="80" loading="lazy" />
          </a>
          <div class="favorite-product__wrapper">
            <a href="/card.html?id=${t}" target="_blank" class="favorite-product__title">${i}</a>
            <div class="favorite-product__inner">
              <div class="favorite-product__article">Art: ${a}</div>
              <div class="favorite-product__price">${this.formatter.format(r)} грн</div>
            </div>
          </div>
          <div class="favorite-product__buttons">
            <button data-favorite-remove-btn class="favorite-product__btn favorite-product__delete" title="Видалити">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="none"
                viewBox="0 0 20 20"
              >
                <path
                  fill="#ffa501"
                  d="M18.572 2.857h-5v-.714C13.572.959 12.612 0 11.429 0H8.572C7.388 0 6.429.96 6.429 2.143v.714h-5a.714.714 0 1 0 0 1.429h.776L3.572 19.35c.033.369.343.65.714.649h11.428c.37.002.681-.28.715-.65l1.366-15.064h.776a.714.714 0 1 0 0-1.429M7.857 2.143c0-.395.32-.714.715-.714h2.857c.394 0 .714.32.714.714v.714H7.857zm7.205 16.428H4.938L3.643 4.286H16.36z"
                />
                <path
                  fill="#ffa501"
                  d="M7.857 16.381v-.003l-.714-10a.716.716 0 0 0-1.429.101l.715 10a.714.714 0 0 0 .714.664h.051a.714.714 0 0 0 .663-.762M10 5.714a.714.714 0 0 0-.714.715v10a.714.714 0 1 0 1.428 0v-10A.714.714 0 0 0 10 5.714M13.622 5.714a.716.716 0 0 0-.765.664l-.714 10a.714.714 0 0 0 .66.764h.053c.376.002.688-.288.715-.663l.715-10a.716.716 0 0 0-.664-.765"
                />
              </svg>
            </button>
            <button data-favorite-buy-btn class="favorite-product__btn favorite-product__cart" title="В кошик">
              <svg
                width="20"
                height="20"
                viewBox="0 0 35 29"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M26.1 19.9H7.9C5.3 19.9 3.7 18.1 3.3 16.3C3 15.2 0.7 7.1 0 4.9C-0.1 4.6 0.1 4.3 0.4 4.3H30V6.3H2.5C3.3 8.9 5 14.8 5.2 15.9C5.4 16.8 6.3 17.9 7.9 17.9H26.1V19.9Z"
                  fill="#FFA501"
                />
                <path
                  d="M24.6 24.8L23 23.7C23.2 23.4 23.4 23.1 23.5 22.7C24 21.2 27.5 8.8 29 3.5C29.5 1.4 31.3 0 33.5 0H34.7C34.8 0 35 0.2 35 0.3V1.6C35 1.8 34.8 2 34.7 2H33.5C32.3 2 31.2 2.8 30.9 4C29.4 9.3 25.9 21.8 25.4 23.4C25.2 23.9 24.9 24.4 24.6 24.8Z"
                  fill="#FFA501"
                />
                <path d="M20.5 25H8.4V27H20.5V25Z" fill="#FFA501" />
                <path
                  d="M6 29C4.3 29 3 27.6 3 26C3 24.3 4.4 23 6 23C7.7 23 9 24.4 9 26C9 27.6 7.7 29 6 29Z"
                  fill="#FFA501"
                />
                <path
                  d="M22.6 29C20.9 29 19.6 27.6 19.6 26C19.6 24.3 21 23 22.6 23C24.3 23 25.6 24.4 25.6 26C25.6 27.6 24.3 29 22.6 29Z"
                  fill="#FFA501"
                />
              </svg>
            </button>
          </div>
        </article>
      </li>`}initEventListeners(){this.element.addEventListener("click",e=>{const t=e.target.closest("[data-product-id]");if(!t)return;const s=Number(t.dataset.productId);e.target.closest("[data-favorite-remove-btn]")&&(e.stopPropagation(),this.storage.remove(s)),e.target.closest("[data-favorite-buy-btn]")&&this.cartStorage&&(e.stopPropagation(),this.cartStorage.add(s))})}}v=new WeakSet,V=function(e){this.totalPriceElement&&(this.totalPriceElement.textContent=`${this.formatter.format(e)} грн`)};class A{constructor(e,t,s){this.counter=document.querySelector(e),this.storage=t,this.eventName=s,!(!this.counter||!this.storage)&&this.init()}init(){this.update(),document.addEventListener(this.eventName,()=>{this.update()})}update(){const t=this.storage.get().length;this.counter.textContent=t,t>0?this.counter.classList.remove("is-hidden"):this.counter.classList.add("is-hidden")}}var b,U;class re{constructor(e,t){u(this,b);n(this,"settings",{minQuantity:1,maxQuantity:15});n(this,"selectors",{list:"[data-cart-list]",totalPrice:"[data-cart-total-price]"});this.storage=e,this.allProducts=t,this.element=document.querySelector(this.selectors.list),this.totalPriceElements=document.querySelectorAll(this.selectors.totalPrice),this.formatter=new Intl.NumberFormat("uk-UA"),this.element&&this.init()}init(){this.render(),this.initEventListeners(),document.addEventListener("cart:updated",()=>this.render())}getGroupedProducts(){const t=this.storage.get().reduce((s,i)=>(s[i]=(s[i]||0)+1,s),{});return Object.keys(t).map(s=>{const i=this.allProducts.find(r=>r.id===Number(s));return i?{...i,count:t[s],totalItemPrice:i.price*t[s]}:null}).filter(s=>s!==null)}render(){const e=this.getGroupedProducts();if(e.length===0){this.element.innerHTML='<li class="cart__empty">Ваш кошик порожній</li>',c(this,b,U).call(this,0);return}this.element.innerHTML=e.map(s=>this.template(s)).join("");const t=e.reduce((s,i)=>s+i.totalItemPrice,0);c(this,b,U).call(this,t)}template(e){const{id:t,image:s,model:i,price:r,category:a,count:g}=e,h=g<=this.settings.minQuantity,l=g>=this.settings.maxQuantity;return`
      <li class="cart__item cart-item" data-product-id="${t}">
        <a href="/card.html?id=${t}" class="cart-item__image">
          <img src="${s}" alt="${i}" />
        </a>
        <div class="cart-item__info">
          <h3 class="cart-item__name">${i}</h3>
          <p class="cart-item__category">${a||"Окуляри"}</p>
        </div>
        <div class="cart-item__actions">
          <div class="cart-item__quantity quantity">
            <button type="button" data-cart-minus 
                    class="quantity__button quantity__button--minus" 
                    ${h?"disabled":""}>-</button>
            <input type="number" class="quantity__input" value="${g}" readonly />
            <button type="button" data-cart-plus 
                    class="quantity__button quantity__button--plus" 
                    ${l?"disabled":""}>+</button>
          </div>
          <div class="cart-item__price-block">
            <span class="cart-item__price">${this.formatter.format(r*g)} грн</span>
          </div>
          <button type="button" data-cart-remove-btn class="cart-item__delete" aria-label="Видалити товар">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.8333 4.16666L4.16666 15.8333" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M4.16666 4.16666L15.8333 15.8333" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      </li>`}initEventListeners(){this.element.addEventListener("click",e=>{const t=e.target.closest("[data-product-id]");if(!t)return;const s=Number(t.dataset.productId),i=this.storage.get().filter(r=>r===s).length;e.target.closest("[data-cart-plus]")&&i<this.settings.maxQuantity&&this.storage.add(s),e.target.closest("[data-cart-minus]")&&i>this.settings.minQuantity&&this.storage.removeOne(s),e.target.closest("[data-cart-remove-btn]")&&this.storage.remove(s)})}}b=new WeakSet,U=function(e){this.totalPriceElements.forEach(t=>{t.textContent=this.formatter.format(e)})};function ne(){const o=new E("user_favorites","favorite:updated"),e=new E("user_cart","cart:updated"),t=new te("[data-products-catalog]",y);new se(t,y),new ie,new oe(o,y,e),new re(e,y),new A("[data-favorite-counter]",o,"favorite:updated"),new A("[data-cart-counter]",e,"cart:updated")}window.addEventListener("DOMContentLoaded",()=>{I(),D(),new Y,new z,new X,G(),ne()});
